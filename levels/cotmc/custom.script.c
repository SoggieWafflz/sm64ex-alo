#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/cotmc/header.h"
extern u8 _cotmc_segment_ESegmentRomStart[]; 
extern u8 _cotmc_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_cotmc_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _cotmc_segment_ESegmentRomStart, _cotmc_segment_ESegmentRomEnd),
LOAD_MIO0(        /*seg*/ 0x0B, _effect_mio0SegmentRomStart, _effect_mio0SegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom54787776_skybox_mio0SegmentRomStart,_SkyboxCustom54787776_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group8_mio0SegmentRomStart,_group8_mio0SegmentRomEnd),
LOAD_RAW(12,_group8_geoSegmentRomStart,_group8_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(84,0x05002e00,4),
// LOAD_MODEL_FROM_DL(86,0x05003120,4),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_9),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_cotmc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_cotmc_1_[] = {
AREA(1,Geo_cotmc_1_0x3301700),
TERRAIN(col_cotmc_1_0xe05f608),
SET_BACKGROUND_MUSIC(0,51),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_cotmc_1_),
JUMP_LINK(local_warps_cotmc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_cotmc_1_[] = {
OBJECT_WITH_ACTS(0,-14791,-4585,-11038,0,90,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,-734,4983,-6088,0,-335,0,0xe0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(124,4404,534,-4248,0,-58,0,0x4b0000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(137,-15735,-4665,-12186,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-10564,-3077,-11861,0,-35,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-7706,-1042,-1658,0,9,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-4145,104,739,0,36,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,2171,-124,-14393,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(85,15528,457,-73,0,0,0,0x10000, bhvCapSwitch,31),
OBJECT_WITH_ACTS(137,631,-388,2142,0,22,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-9954,1510,15502,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(34,-15126,-5131,-11008,0,-90,0,0x11110000, bhvDoor,31),
OBJECT_WITH_ACTS(124,-14981,-5131,-10832,0,90,0,0x3f0000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,-15364,-5065,-11001,0,0,0,0xb0000, bhvWarp,31),
OBJECT_WITH_ACTS(34,15325,-1195,-6073,0,-90,0,0x17170000, bhvDoor,31),
OBJECT_WITH_ACTS(0,15554,-1085,-6071,0,0,0,0xd0000, bhvWarp,31),
OBJECT_WITH_ACTS(124,15194,-1195,-6219,0,-90,0,0x400000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,14964,-727,-5621,0,-90,0,0xc0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(122,-12912,1713,4967,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(137,15581,-1435,6958,0,0,0,0xa0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,-3444,899,-6381,0,-8,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(137,9464,2201,-8036,0,0,0,0xc0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,-1569,2678,-14612,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(0,1781,2361,-6431,0,2,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(137,1741,5386,-1355,0,41,0,0x110000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(215,7496,-1405,15393,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-12639,-4184,-15629,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-12324,-234,-6554,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-8396,3487,10584,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-580,304,-7534,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,7119,562,-9343,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-8906,856,-14340,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,3160,-1116,482,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(0,-8267,-2400,-3383,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12668,-3873,8286,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(137,-15092,2076,13741,0,0,0,0x70000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,-10043,754,13909,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-4684,-2915,15515,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,1228,-1209,12161,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-4685,-870,-633,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(137,-2562,941,-6677,0,55,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,8251,1004,-10976,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-6275,528,-11713,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,15611,-1195,-6914,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,0,0,0,0,0,0,0x0, bhvStarDoor,31),
OBJECT_WITH_ACTS(0,-10624,-3550,-11964,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,-11114,-1753,-9124,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-8169,-1413,-1708,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-8851,-2140,2184,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(206,-12991,-2826,4308,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,-11534,-3603,6693,0,-94,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(180,-15145,-3148,9224,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-13880,-3082,10319,0,167,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(101,-11801,-3247,11688,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(223,-11314,-2745,11953,0,57,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-11958,-2061,14998,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(24,-11721,-2269,13445,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(223,-14718,-1927,13224,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-14385,-1678,14367,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-14983,1102,15225,0,-72,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-12847,1137,15610,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-10795,754,14791,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-9960,754,13670,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-8722,549,14688,0,-4,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(206,-11044,-2156,12848,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-12905,1559,4956,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-6943,-1928,9834,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-9727,-2044,6144,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-9750,-1861,7001,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(192,-6770,-1896,10722,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(223,-8272,-2525,9191,0,-71,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-6168,-2173,12965,0,185,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(24,-5376,-2652,13377,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(101,-5226,-2915,15216,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(180,-2185,-1638,13279,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,2487,-2346,14275,0,-90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(101,1766,-2425,15456,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(206,-9493,1490,14858,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,1675,-181,13719,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,910,-1913,9944,0,72,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(206,243,-1612,9602,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-729,-2316,7565,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-1405,-3935,4432,0,19,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(101,-509,-1694,5441,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(206,204,-1248,5706,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,4563,-1810,9981,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,3405,-1874,9616,0,191,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(24,6881,-2039,15054,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(0,6991,-2472,12394,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(206,6355,-2171,11565,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,8768,-2709,9185,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(101,7713,-2841,10596,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(223,11508,-2261,8397,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(206,13878,-1816,7609,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(223,15677,-1810,7016,0,-7,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-3901,-387,634,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(101,3940,88,-2840,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(180,365,-930,3955,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,3325,990,-4584,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,4214,401,-3527,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(34,4725,539,-4181,0,-59,0,0x1e1e0000, bhvDoor,31),
OBJECT_WITH_ACTS(192,4922,395,-5631,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(194,3766,505,-6685,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(180,3363,563,-8133,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,1986,543,-3910,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(212,2546,2885,-10046,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(180,-760,251,-5881,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-3305,794,-4043,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-4135,827,-3748,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(101,-3446,384,-6420,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(101,1374,259,-4714,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(180,2159,924,-5156,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(192,2529,1410,-5625,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(223,1817,2058,-6245,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,2594,-160,-8674,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,3294,279,-10017,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(192,2416,259,-10845,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(223,-2892,1021,-9193,0,-121,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(206,-5197,901,-10480,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-5895,760,-12789,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-4505,429,-13285,0,38,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-3526,3263,-13819,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-4317,3395,-13962,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,-1557,2350,-14584,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,5541,613,-13501,0,-90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(180,2379,425,-12570,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,1375,439,-13770,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(101,1762,-541,-13913,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(0,7844,1018,-10726,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(206,7509,1049,-10114,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(223,3046,107,-13986,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,7113,469,-9364,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,9615,1463,-8800,0,-140,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(223,9829,1601,-8649,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,8705,1387,-9802,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,14410,-1225,-2999,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,14695,-1195,-5865,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(180,8106,1380,-10180,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,14018,-1103,-4087,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(194,13410,-785,-1697,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(206,13708,816,-1820,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,-218,4108,-4551,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,939,5024,-1388,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,193,4527,-2780,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,13589,530,-2720,0,0,0,0x0, bhvChuckya,31),
RETURN()
};
const LevelScript local_warps_cotmc_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,4,1,3,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,7,1,4,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,4,1,4,0),
WARP_NODE(241,4,1,5,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
