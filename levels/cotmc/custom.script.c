#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/cotmc/header.h"
extern u8 _cotmc_segment_ESegmentRomStart[]; 
extern u8 _cotmc_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_cotmc_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _cotmc_segment_ESegmentRomStart, _cotmc_segment_ESegmentRomEnd),
LOAD_MIO0(        /*seg*/ 0x0B, _effect_mio0SegmentRomStart, _effect_mio0SegmentRomEnd),
LOAD_MIO0(0xA,_bbh_skybox_mio0SegmentRomStart,_bbh_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group8_mio0SegmentRomStart,_group8_mio0SegmentRomEnd),
LOAD_RAW(12,_group8_geoSegmentRomStart,_group8_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(84,0x05002e00,4),
// LOAD_MODEL_FROM_DL(86,0x05003120,4),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_9),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_cotmc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_cotmc_1_[] = {
AREA(1,Geo_cotmc_1_0x3301700),
TERRAIN(col_cotmc_1_0xe065d40),
SET_BACKGROUND_MUSIC(0,45),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_cotmc_1_),
JUMP_LINK(local_warps_cotmc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_cotmc_1_[] = {
OBJECT_WITH_ACTS(0,-4864,4096,13969,0,131,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,583,2683,-5387,0,-154,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1680,3835,-5523,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(137,-17434,-167,10678,0,52,0,0x40d0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,8336,6383,4596,0,0,0,0x30c0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,-6013,-5431,-2259,0,-133,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,8556,-1233,4074,0,127,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-13415,9023,-11121,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(0,-2492,-2244,1003,0,44,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,1834,-6152,8640,0,-73,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-5463,3645,3800,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12538,3179,-7086,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,6176,1853,5846,0,-56,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(180,-2682,-884,4526,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-2075,-2310,2267,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-6367,-4194,-2470,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,9145,4979,1551,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14037,-1398,2511,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-3457,3463,3207,0,-83,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,-1878,4206,12705,0,-108,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(223,-2385,3925,12032,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-8713,2507,4118,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-6089,3091,9542,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(207,14725,10384,1848,0,-203,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,8678,5692,4506,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(137,-1594,-5391,8312,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,8514,-5685,4087,0,41,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(85,-6560,-5940,9055,0,0,0,0x10000, bhvCapSwitch,31),
OBJECT_WITH_ACTS(212,-9456,3745,11356,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,-13209,2808,-1795,-178,0,1,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,-13016,2774,-540,-88,0,-52,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,-13185,2733,-4717,-181,0,5,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(206,4090,-4142,7053,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,-4718,-3448,-377,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,-8576,2688,3162,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(180,-12118,3251,4352,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10097,3251,7359,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7499,3251,7909,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10536,6434,243,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,8327,4847,2100,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,7456,4774,2833,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(192,-10457,3390,2729,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-10060,3390,4505,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-9261,3390,5287,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-7036,3390,5120,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(180,-13477,3563,-8305,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14516,4741,-10153,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10717,7289,-9152,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-11309,6578,-7926,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,4512,-958,7442,0,-19,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1884,4673,12719,0,-19,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12034,3249,5255,0,-19,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(192,-5445,3645,4289,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-2854,-900,3236,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-2740,-900,4248,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,7845,4824,4688,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,6519,4694,3661,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,6351,4648,3778,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(180,-16442,-1935,7524,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14949,-2009,7428,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,6318,2026,5764,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(220,-6507,3715,9865,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-2115,4206,10455,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-3189,4206,3121,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-16586,-1827,10534,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-17199,-1827,5384,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-12629,6127,-9623,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-12833,3819,-7839,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(223,-14099,-1960,9894,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(187,-9535,2577,5255,0,0,0,0x0, bhvButterfly,31),
OBJECT_WITH_ACTS(187,-9666,2560,5267,0,0,0,0x0, bhvButterfly,31),
OBJECT_WITH_ACTS(0,-15691,-1835,10565,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(120,12560,8377,-1547,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(120,-2450,-958,3249,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(0,-7327,3224,7926,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-9224,3352,2266,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-7370,3253,5395,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(180,-3023,-6026,8998,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-4505,-5864,9042,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-2701,4036,11435,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(192,3736,-6119,7799,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,516,-6119,8760,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,1353,-6143,8687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(194,-13096,3139,-2145,0,0,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(0,-15655,-1294,324,0,134,0,0x1e0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-9576,2520,5259,0,134,0,0x1f0000, bhvFadingWarp,31),
RETURN()
};
const LevelScript local_warps_cotmc_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,28,1,14,0),
WARP_NODE(14,28,1,13,0),
WARP_NODE(240,6,1,33,0),
WARP_NODE(241,6,1,34,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(31,28,1,30,0),
WARP_NODE(30,28,1,31,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
