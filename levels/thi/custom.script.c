#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/thi/header.h"
extern u8 _thi_segment_ESegmentRomStart[]; 
extern u8 _thi_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_thi_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _thi_segment_ESegmentRomStart, _thi_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom27885248_skybox_mio0SegmentRomStart,_SkyboxCustom27885248_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group5_mio0SegmentRomStart,_group5_mio0SegmentRomEnd),
LOAD_RAW(12,_group5_geoSegmentRomStart,_group5_geoSegmentRomEnd),
LOAD_MIO0(6,_group14_mio0SegmentRomStart,_group14_mio0SegmentRomEnd),
LOAD_RAW(13,_group14_geoSegmentRomStart,_group14_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(86,0x05014630),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_6),
JUMP_LINK(script_func_global_15),
JUMP_LINK(local_area_thi_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_thi_1_[] = {
AREA(1,Geo_thi_1_0x19001700),
TERRAIN(col_thi_1_0xe071ea0),
SET_BACKGROUND_MUSIC(0,35),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_thi_1_),
JUMP_LINK(local_warps_thi_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_thi_1_[] = {
OBJECT_WITH_ACTS(0,3707,-2678,-6660,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(22,6899,-54,-1357,0,-154,0,0x170000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,-11950,-4299,4864,0,-153,0,0x160000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(122,-4042,3164,-9384,0,107,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(122,10572,427,14430,0,-151,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,1070,4674,-3800,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(0,-15503,-3121,9619,0,0,0,0x3000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(122,290,2503,-3124,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(122,550,-3687,-2763,0,0,0,0x5000000, bhvStar,31),
OBJECT_WITH_ACTS(201,-1675,2823,8578,0,0,0,0x0, bhvCannonClosed,31),
OBJECT_WITH_ACTS(195,589,-4138,5580,0,-89,0,0x0, bhvBobombBuddyOpensCannon,31),
OBJECT_WITH_ACTS(180,-3607,2336,-8895,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3313,2336,-8580,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3615,2336,-8265,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-4416,2336,-6025,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-4578,2336,-4478,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3819,2759,-6891,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-3956,2276,-3772,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-4343,2276,-3347,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-4568,2566,-5274,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(220,-4095,3000,-9778,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-4356,3000,-9694,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-4435,3000,-9478,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(122,-8364,-2425,-3599,0,86,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(122,-330,1106,5810,0,181,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(122,3364,2062,-3510,0,0,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(122,-2731,2432,7654,13,0,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(122,-4519,2181,-3339,0,90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(122,-7600,-1239,1444,0,181,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(122,1232,2697,-5415,0,-90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,-3974,-4404,-7482,0,0,0,0x0, bhvPokey,31),
OBJECT_WITH_ACTS(0,-2468,1475,5370,0,0,0,0x0, bhvPokey,31),
OBJECT_WITH_ACTS(0,4714,268,-352,0,0,0,0x0, bhvPokey,31),
OBJECT_WITH_ACTS(0,-484,-4404,-8420,0,0,0,0x0, bhvPokey,31),
OBJECT_WITH_ACTS(0,2276,2000,-4827,0,0,0,0x0, bhvPokey,31),
OBJECT_WITH_ACTS(0,-4590,2000,-4168,0,0,0,0x0, bhvPokey,31),
OBJECT_WITH_ACTS(223,-7714,1238,2292,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-6751,-4194,-8176,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-1085,2840,7368,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-14842,-3774,9055,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-816,-4310,-9023,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(122,-1699,2000,-3627,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(122,6491,-204,-181,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(122,3722,2000,-1131,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(217,976,1320,2156,0,-17,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,732,1320,1904,0,-55,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,844,1320,2052,0,-53,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,1057,1412,1954,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(100,-1502,2000,-1357,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-488,950,4260,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,2583,2000,-4702,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-2922,-4404,-8519,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-7436,-2566,-5568,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-348,950,6732,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,4465,740,-765,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-7123,-3905,-7331,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-7729,-1306,2184,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-13527,-4404,7408,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-7822,-2199,-2602,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,2357,-4404,8565,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,5671,-4404,9390,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,-1544,2000,-3481,0,0,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(180,-575,1478,9537,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,1148,1481,3002,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-8713,-2650,-6543,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-1170,-3737,-9166,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14190,-4225,8703,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,5822,477,-81,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7698,-1600,-885,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,967,-4172,5937,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,2969,-3264,-8115,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,8987,-4144,10482,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,9543,-3302,16547,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,8773,-2783,15465,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,7963,-2263,15329,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,9264,-1807,15096,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,9954,-594,15309,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10345,-111,14899,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10734,-3599,16689,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,9194,-965,15623,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,985,2000,982,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-1532,2000,-3663,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-4505,-4024,-7649,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-12846,-4404,6715,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-835,950,5292,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,1808,2260,-3153,0,0,0,0x3c0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,114,-4378,3008,0,41,0,0x3d0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(129,2170,-4884,3414,0,40,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,1676,-4884,2723,0,40,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,1134,-4884,2180,0,40,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,1627,-4535,4055,0,40,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,1331,-4544,4844,0,40,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(207,353,-1186,5239,90,74,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(140,-1417,4625,4258,0,0,0,0x0, bhvBlueCoinSwitch,31),
OBJECT_WITH_ACTS(118,-934,5001,3149,0,40,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-923,4896,4221,0,40,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(118,-1932,4896,4252,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(0,-451,2359,-661,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-8172,-4124,-8592,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-13999,-3940,9407,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-7710,-332,2118,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,9248,-4303,11643,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(215,-215,2320,2403,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,7481,-160,-215,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,1058,3166,-384,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-15065,-3591,8976,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-1744,2840,9587,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-7179,2621,2174,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,3677,2034,-367,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,4500,1174,-2359,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-2909,1520,5838,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,1073,4399,-2933,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,4587,-4110,-9901,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-7689,-2058,-1328,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(129,4297,-4026,-8865,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(124,-4,-204,-6245,0,-73,0,0x200000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(220,9179,-2989,11905,0,0,0,0x10000, bhvFlyGuy,31),
OBJECT_WITH_ACTS(217,410,-4506,5203,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(118,-1899,4896,3201,0,0,0,0x0, bhvHiddenBlueCoin,31),
OBJECT_WITH_ACTS(124,4090,-3301,-8127,0,-90,0,0x510000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,4081,-4364,-8129,0,0,0,0x6080000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,4073,-4681,-8118,0,0,0,0x0, bhvPushableMetalBox,31),
RETURN()
};
const LevelScript local_warps_thi_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,6,1,52,0),
WARP_NODE(241,6,1,53,0),
WARP_NODE(22,13,1,23,0),
WARP_NODE(23,13,1,22,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(60,13,1,61,0),
WARP_NODE(61,13,1,60,0),
RETURN()
};
