#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/castle_inside/header.h"
extern u8 _castle_inside_segment_ESegmentRomStart[]; 
extern u8 _castle_inside_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_castle_inside_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _castle_inside_segment_ESegmentRomStart, _castle_inside_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom23068352_skybox_mio0SegmentRomStart,_SkyboxCustom23068352_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group10_mio0SegmentRomStart,_group10_mio0SegmentRomEnd),
LOAD_RAW(12,_group10_geoSegmentRomStart,_group10_geoSegmentRomEnd),
LOAD_MIO0(6,_group15_mio0SegmentRomStart,_group15_mio0SegmentRomEnd),
LOAD_RAW(13,_group15_geoSegmentRomStart,_group15_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_11),
JUMP_LINK(script_func_global_16),
JUMP_LINK(local_area_castle_inside_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_castle_inside_1_[] = {
AREA(1,Geo_castle_inside_1_0x14c1700),
TERRAIN(col_castle_inside_1_0xe0c2608),
SET_BACKGROUND_MUSIC(0,59),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_castle_inside_1_),
JUMP_LINK(local_warps_castle_inside_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_castle_inside_1_[] = {
OBJECT_WITH_ACTS(0,37,719,514,0,180,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,583,2683,-5387,0,-154,0,0x0, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1680,3835,-5523,0,-153,0,0x0, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-6612,1024,-3351,0,107,0,0xd0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1980,768,6618,0,-151,0,0xe0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(37,101,494,766,0,180,0,0xc0000, bhvDoorWarp,31),
OBJECT_WITH_ACTS(37,-48,494,766,0,0,0,0xc0000, bhvDoorWarp,31),
OBJECT_WITH_ACTS(22,-8463,-78,-1736,0,0,0,0x140000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,-9106,0,-1844,0,0,0,0x150000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,-9106,0,-1844,0,0,0,0x160000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(22,9986,-2305,-6710,0,0,0,0x190000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,10502,-2188,-5629,0,0,0,0x1a0000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,10502,-2188,-5629,0,0,0,0x1b0000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(22,-9524,1717,-12114,0,0,0,0x1e0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,-9178,1667,-11361,0,0,0,0x1f0000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,-9178,1667,-11361,0,0,0,0x200000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(22,-8801,856,6106,0,0,0,0x230000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,-7529,521,5828,0,0,0,0x460000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,-7529,521,5828,0,0,0,0x470000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(22,6445,951,7113,0,0,0,0x500000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,5907,1094,7022,0,0,0,0x510000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,5907,1094,7022,0,0,0,0x520000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(22,13,-2735,-10924,0,0,0,0x80000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,129,-2865,-10209,0,0,0,0x340000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,129,-2865,-10209,0,0,0,0x350000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(0,5109,3302,1907,0,0,0,0xa0f0000, bhvWarp,31),
OBJECT_WITH_ACTS(0,6025,3438,1895,0,0,0,0x100000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,6025,3438,1895,0,0,0,0x110000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(0,-14,4989,-15241,0,0,0,0x2d0000, bhvWarp,31),
OBJECT_WITH_ACTS(0,1736,4452,-15331,0,0,0,0x2e0000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,-1693,4452,-15241,0,0,0,0x2f0000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(0,-538,271,-1060,0,0,0,0x1c0000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(0,-1032,271,-1034,0,0,0,0x1d0000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(34,5363,3248,1829,0,-90,0,0x3c000000, bhvDoor,31),
OBJECT_WITH_ACTS(34,5364,3248,1976,0,90,0,0x3c000000, bhvDoor,31),
OBJECT_WITH_ACTS(0,-1262,0,-2878,0,0,0,0x120000, bhvAirborneWarp,31),
OBJECT_WITH_ACTS(0,5968,3354,1896,0,0,0,0x60000, bhvPaintingStarCollectWarp,31),
OBJECT_WITH_ACTS(188,-5919,157,11076,0,129,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-1934,157,6575,0,129,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-1864,157,3549,0,129,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,2301,329,-11006,0,129,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,15,329,-10015,0,129,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-1757,329,-10359,0,129,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(84,-2574,36,10251,0,129,0,0x0, bhvBird,31),
OBJECT_WITH_ACTS(84,-3256,36,-14102,0,129,0,0x0, bhvBird,31),
OBJECT_WITH_ACTS(84,1177,36,-4922,0,129,0,0x0, bhvBird,31),
OBJECT_WITH_ACTS(212,8958,-2469,-1692,0,129,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,6567,-2296,-805,0,129,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,8885,-2296,-694,0,82,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1002,1141,-11849,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-5698,1141,-7852,0,45,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-2533,105,-7026,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,32,105,-6310,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1892,105,1398,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,20,53,-1708,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,2224,157,-6394,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-1699,3041,-13828,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-7024,2868,-4095,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-4697,174,8457,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,6443,1037,4996,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,10877,1590,11921,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(221,2281,-2469,-923,0,0,0,0x48000000, bhvToadMessage,31),
OBJECT_WITH_ACTS(101,-9770,42,-6464,0,0,0,0x50000000, bhvToadMessage,31),
OBJECT_WITH_ACTS(0,83,3083,-15162,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,709,1208,-11888,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-7780,1438,-9033,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(116,-5224,3188,3205,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-12661,1354,-15882,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,3518,125,-15437,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-12381,125,11631,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,-10032,208,2507,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-5750,500,8942,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-1892,500,4792,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-1880,500,-541,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(116,7011,-2104,-9131,356,0,359,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,8787,-4583,-27,0,0,0,0x0, bhvLargeFishGroup,31),
OBJECT_WITH_ACTS(0,2181,-4583,-3752,0,0,0,0x0, bhvLargeFishGroup,31),
OBJECT_WITH_ACTS(0,6031,-3938,-4812,0,0,0,0x0, bhvLargeFishGroup,31),
OBJECT_WITH_ACTS(0,-12375,147,11621,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-5226,3202,3207,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-12660,1354,-15868,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,3521,121,-15423,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,7014,-2107,-9119,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,2317,-2140,55,0,0,0,0x5000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(129,348,-5629,-370,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,350,-5446,-376,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(130,327,-5659,-825,0,0,0,0x0, bhvMips,31),
OBJECT_WITH_ACTS(24,-2615,0,418,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,-3337,0,11518,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,-3712,0,-15199,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,2346,0,-11648,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,-2462,0,-2455,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,573,-5660,-50,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(137,687,-3573,-5502,0,0,0,0x6080000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(37,-1300,-1325,-4723,0,0,0,0x1050000, bhvDoorWarp,31),
OBJECT_WITH_ACTS(37,-1153,-1325,-4722,0,180,0,0x1050000, bhvDoorWarp,31),
OBJECT_WITH_ACTS(0,341,5,36,0,0,0,&VB_castle_inside_1_0xe0a2830[4], editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,341,5,36,0,0,0,&VB_castle_inside_1_0xe0a11b0[3], editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,341,5,36,0,0,0,&VB_castle_inside_1_0xe0a3910[2], editor_Scroll_Texture,31),
RETURN()
};
const LevelScript local_warps_castle_inside_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(70,23,1,10,0),
WARP_NODE(71,23,1,10,0),
WARP_NODE(80,10,1,10,0),
WARP_NODE(81,10,1,10,0),
WARP_NODE(82,10,1,10,0),
WARP_NODE(8,18,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(12,16,1,52,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(15,19,1,10,0),
WARP_NODE(16,19,1,10,0),
WARP_NODE(17,19,1,10,0),
WARP_NODE(18,6,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(20,7,1,10,0),
WARP_NODE(21,7,1,10,0),
WARP_NODE(22,7,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(25,22,1,10,0),
WARP_NODE(26,22,1,10,0),
WARP_NODE(27,22,1,10,0),
WARP_NODE(28,6,1,10,0),
WARP_NODE(29,6,1,10,0),
WARP_NODE(30,8,1,10,0),
WARP_NODE(31,8,1,10,0),
WARP_NODE(32,8,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(10,9,1,10,0),
WARP_NODE(35,23,1,10,0),
WARP_NODE(45,27,1,10,0),
WARP_NODE(46,27,1,10,0),
WARP_NODE(47,27,1,10,0),
WARP_NODE(240,6,1,10,0),
WARP_NODE(241,6,1,29,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(52,18,1,10,0),
WARP_NODE(53,18,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,26,1,10,0),
WARP_NODE(6,33,1,10,0),
RETURN()
};
