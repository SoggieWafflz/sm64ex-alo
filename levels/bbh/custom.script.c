#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/bbh/header.h"
extern u8 _bbh_segment_ESegmentRomStart[]; 
extern u8 _bbh_segment_ESegmentRomEnd[];
#include "levels/thi/header.h"
const LevelScript level_bbh_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _thi_segment_7SegmentRomStart, _thi_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _thiSegmentRomStart, _thiSegmentRomEnd),
LOAD_RAW(0x0E, _bbh_segment_ESegmentRomStart, _bbh_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_water_skybox_mio0SegmentRomStart,_water_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group1_mio0SegmentRomStart,_group1_mio0SegmentRomEnd),
LOAD_RAW(12,_group1_geoSegmentRomStart,_group1_geoSegmentRomEnd),
LOAD_MIO0(6,_group13_mio0SegmentRomStart,_group13_mio0SegmentRomEnd),
LOAD_RAW(13,_group13_geoSegmentRomStart,_group13_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_THI_BUBBLY_TREE,     bubbly_tree_geo),
    LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_03,   thi_geo_0005F0),
    LOAD_MODEL_FROM_GEO(MODEL_THI_WARP_PIPE,       warp_pipe_geo),
    LOAD_MODEL_FROM_GEO(MODEL_THI_HUGE_ISLAND_TOP, thi_geo_0005B0),
    LOAD_MODEL_FROM_GEO(MODEL_THI_TINY_ISLAND_TOP, thi_geo_0005C8),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_2),
JUMP_LINK(script_func_global_14),
JUMP_LINK(local_area_bbh_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_bbh_1_[] = {
AREA(1,Geo_bbh_1_0x1201700),
TERRAIN(col_bbh_1_0xe0a0730),
SET_BACKGROUND_MUSIC(0,50),
TERRAIN_TYPE(5),
JUMP_LINK(local_objects_bbh_1_),
JUMP_LINK(local_warps_bbh_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bbh_1_[] = {
OBJECT_WITH_ACTS(0,843,3789,-23671,0,-61,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,583,2683,-5387,0,-154,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1680,3835,-5523,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-6612,1024,-3351,0,107,0,0xd0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1980,1044,6618,0,-151,0,0xe0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(122,-11132,-2760,-12646,0,95,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(217,16120,8647,-14284,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(122,-1448,17170,-7591,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,18264,19984,-6129,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-29775,9181,7660,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(122,12810,2753,3284,0,63,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(0,9364,-3783,-23494,0,0,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(194,18444,11510,-6151,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,18514,11817,-9478,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,18404,11823,-3067,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(84,17735,12601,-11758,0,18,0,0x0, bhvBulletBill,31),
OBJECT_WITH_ACTS(217,18547,11396,-5641,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(84,21309,8976,-9576,0,-90,0,0x0, bhvBulletBill,31),
OBJECT_WITH_ACTS(124,16642,10363,-628,0,-176,0,0x30000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(215,21169,8421,-11360,0,-54,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(180,2903,3573,7249,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-133,1647,7298,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-9360,-3467,-8711,0,12,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,2426,799,9699,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,6905,-2627,-13093,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,16548,1004,-26017,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,10814,7580,7312,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,18464,8777,4645,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(217,19060,8632,-6404,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(0,18602,9284,-6398,0,0,0,0xc80000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,11683,-2683,-14643,0,0,0,0x0, bhvFish2,31),
OBJECT_WITH_ACTS(0,-410,-2683,-11993,0,0,0,0x0, bhvFish3,31),
OBJECT_WITH_ACTS(0,-8682,-2683,-10928,0,0,0,0x0, bhvFish2,31),
OBJECT_WITH_ACTS(0,-4302,-2275,-3019,0,0,0,0x0, bhvFish2,31),
OBJECT_WITH_ACTS(0,0,-2275,0,0,0,0,0x0, bhvLargeFishGroup,31),
OBJECT_WITH_ACTS(137,6537,12934,5083,0,0,0,0x60000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(220,18347,11696,-7812,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-17971,2133,-3391,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,2782,1530,7842,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,16861,8780,5960,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(137,-3696,3313,7321,0,0,0,0x90000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,13754,996,-22653,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(105,11538,0,-11895,0,0,0,0x0, bhvSkeeter,31),
OBJECT_WITH_ACTS(105,13900,0,-4153,0,0,0,0x0, bhvSkeeter,31),
OBJECT_WITH_ACTS(105,4000,0,-17653,0,0,0,0x0, bhvSkeeter,31),
OBJECT_WITH_ACTS(105,13859,0,-19068,0,0,0,0x0, bhvSkeeter,31),
OBJECT_WITH_ACTS(105,5574,0,-11723,0,0,0,0x0, bhvSkeeter,31),
OBJECT_WITH_ACTS(105,1764,0,-3455,0,0,0,0x0, bhvSkeeter,31),
OBJECT_WITH_ACTS(188,-5739,2783,-20169,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-2343,2783,-23033,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-241,2783,-21848,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,4259,1079,-25666,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,5778,1007,-25642,0,30,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(188,3334,895,10944,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,3779,895,9518,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,3867,895,10247,0,30,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,22218,8515,-12640,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,-21455,2365,-1717,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,22816,8404,-8145,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,13723,8404,-11523,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,13574,8404,-1829,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-12267,3,-5551,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,19554,8404,-1366,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,6385,1054,-26538,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-5234,2391,-20037,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-8704,452,-16771,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,-9319,452,-16261,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-16168,1648,-3405,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(194,17074,-2806,4138,0,-20,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,17319,-3667,3504,0,-20,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,21212,-3398,-60,0,-20,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,23825,-3398,-6314,0,-20,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(0,21584,-3645,-14506,0,48,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-27997,6563,2517,0,19,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(89,18213,17196,-1800,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(194,7261,-3178,6274,0,-56,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,7261,-3178,6274,0,-56,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,9675,-3178,5630,0,-56,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,10750,-3439,6081,0,-56,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,11570,-3039,6446,0,-56,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,11889,-3522,6582,0,-56,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(0,17175,-3387,4615,0,-56,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(207,9363,-3742,-23478,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(215,-12475,211,-14543,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,9996,-3621,-7709,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(217,-530,-303,3502,0,-183,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,647,1004,8177,0,-179,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(120,-14487,-2975,6573,0,-179,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(88,18289,8316,7302,0,-89,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(88,13091,8237,7471,0,-89,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(88,13084,8237,7076,0,-89,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(0,6526,1191,-31263,0,-35,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,9433,1135,-30411,0,55,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-594,-3308,-7901,0,-90,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(212,-14523,-3569,-3783,0,-90,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,-14478,-3324,1315,0,-90,0,0x0, bhvFish2,31),
OBJECT_WITH_ACTS(0,-14556,-2753,5469,0,-90,0,0x0, bhvFish2,31),
OBJECT_WITH_ACTS(217,15603,1033,4235,0,-111,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(0,-1451,-3289,7236,0,-115,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,10966,-2558,6561,0,-112,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,12878,-3604,2905,0,6,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(188,18749,16314,-4978,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,18800,16314,-6723,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,21251,13329,-8903,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,15662,11111,-11142,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,17858,8433,222,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,6550,12141,4230,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,8533,11208,3883,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,2329,10989,2972,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,6991,11172,2635,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,10446,11172,5204,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,17373,979,-23152,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-1810,13707,-8658,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-1301,13707,-9251,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,18031,1018,-25877,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,12082,1018,-25755,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,20134,1018,-21686,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,17913,17259,-787,0,0,0,0x40000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,8878,-3009,5603,0,3,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(0,764,-3009,8093,0,3,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(0,-13949,-2515,-12498,0,0,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(0,-14595,-2515,-1195,0,0,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(0,14147,-3208,7582,0,0,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(0,8996,-1931,-3655,0,0,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(0,632,-1931,-7721,0,0,0,0x0, bhvChirpChirp,31),
OBJECT_WITH_ACTS(215,-1796,-2990,-13859,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-31590,7739,-1486,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,18474,12920,-2184,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,17697,11111,-10033,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,15089,12022,-11503,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,10586,8904,-19793,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-305,3832,-26782,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,6735,-2601,-1304,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,12756,-3234,61,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,6906,-512,-13068,0,0,0,0x0, bhvRedCoin,31),
RETURN()
};
const LevelScript local_warps_bbh_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,16,1,25,0),
WARP_NODE(241,16,1,26,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
