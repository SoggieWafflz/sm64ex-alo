#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/bbh/header.h"
extern u8 _bbh_segment_ESegmentRomStart[]; 
extern u8 _bbh_segment_ESegmentRomEnd[];
const LevelScript level_bbh_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _bbh_segment_ESegmentRomStart, _bbh_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom19627712_skybox_mio0SegmentRomStart,_SkyboxCustom19627712_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group9_mio0SegmentRomStart,_group9_mio0SegmentRomEnd),
LOAD_RAW(12,_group9_geoSegmentRomStart,_group9_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_10),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_bbh_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_bbh_1_[] = {
AREA(1,Geo_bbh_1_0x19001700),
TERRAIN(col_bbh_1_0xe072748),
SET_BACKGROUND_MUSIC(0,36),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_bbh_1_),
JUMP_LINK(local_warps_bbh_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bbh_1_[] = {
OBJECT_WITH_ACTS(0,-6711,-4469,-3731,0,0,0,0xa0000, bhvSpinAirborneWarp,63),
OBJECT_WITH_ACTS(207,10923,1966,-3041,0,-90,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(137,-1280,6981,-748,0,0,0,0x80000, bhvExclamationBox,1),
OBJECT_WITH_ACTS(129,8971,1518,-4077,0,-14,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,8083,1654,-4076,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(116,6222,-738,8922,0,0,0,0x0, bhvYellowCoin,31),
OBJECT_WITH_ACTS(122,-6141,5340,13938,0,0,0,0x3000000, bhvStar,62),
OBJECT_WITH_ACTS(122,-2731,3203,-1723,0,0,0,0x0, bhvUnusedFakeStar,31),
OBJECT_WITH_ACTS(195,-7137,-4938,-3628,0,20,0,0x20000, bhvBobombBuddy,1),
OBJECT_WITH_ACTS(0,-2728,4370,-1750,0,0,0,0x2000000, bhvHiddenStar,62),
OBJECT_WITH_ACTS(122,4875,382,-19182,0,88,0,0x1000000, bhvStar,62),
OBJECT_WITH_ACTS(0,-2718,3685,-1767,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(0,-7471,-3399,-4171,0,0,0,0x4000000, bhvHiddenRedCoinStar,48),
OBJECT_WITH_ACTS(122,19611,-1190,-3041,0,0,0,0x5000000, bhvStar,62),
OBJECT_WITH_ACTS(129,-952,4797,-6407,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(180,-1017,6762,-763,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-1555,6745,-750,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,6237,1033,-12872,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,4622,1033,-13681,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,3248,1033,-13946,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,3287,1033,-15344,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,4415,1033,-16908,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(223,5534,763,-13647,0,0,0,0x0, bhvChuckya,62),
OBJECT_WITH_ACTS(223,3545,763,-13586,0,0,0,0x0, bhvChuckya,62),
OBJECT_WITH_ACTS(223,3944,763,-16264,0,0,0,0x0, bhvChuckya,62),
OBJECT_WITH_ACTS(223,4883,873,-18754,0,0,0,0x0, bhvChuckya,62),
OBJECT_WITH_ACTS(223,3049,763,-14668,0,0,0,0x0, bhvChuckya,62),
OBJECT_WITH_ACTS(144,6061,854,-13418,0,0,0,0x0, bhvFlame,62),
OBJECT_WITH_ACTS(144,5001,854,-13754,0,0,0,0x0, bhvFlame,62),
OBJECT_WITH_ACTS(144,3080,854,-14318,0,0,0,0x0, bhvFlame,62),
OBJECT_WITH_ACTS(144,3818,854,-15661,0,0,0,0x0, bhvFlame,62),
OBJECT_WITH_ACTS(144,4090,854,-13462,0,0,0,0x0, bhvFlame,62),
OBJECT_WITH_ACTS(0,-2278,3809,-664,0,0,0,0x0, bhvHiddenStarTrigger,62),
OBJECT_WITH_ACTS(0,-3526,3809,-536,0,0,0,0x0, bhvHiddenStarTrigger,62),
OBJECT_WITH_ACTS(0,-3478,3809,-2210,0,0,0,0x0, bhvHiddenStarTrigger,62),
OBJECT_WITH_ACTS(0,-3329,3809,-1138,0,0,0,0x0, bhvHiddenStarTrigger,62),
OBJECT_WITH_ACTS(0,-3284,3809,-1671,0,0,0,0x0, bhvHiddenStarTrigger,62),
OBJECT_WITH_ACTS(87,-3277,3915,-2019,0,0,0,0x0, bhvMadPiano,31),
OBJECT_WITH_ACTS(87,-3380,3915,-1014,0,0,0,0x0, bhvMadPiano,31),
OBJECT_WITH_ACTS(87,-2806,3915,-915,0,0,0,0x0, bhvMadPiano,31),
OBJECT_WITH_ACTS(207,-5869,-1240,2943,0,180,0,0x0, bhvFloorSwitchHiddenObjects,62),
OBJECT_WITH_ACTS(129,-8329,-2927,5020,0,-25,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-8669,-2715,5408,0,-25,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-6324,-1824,2644,0,-1,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,10816,1296,-3680,0,10,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(217,-6892,-3906,12610,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,-5134,3330,14444,0,0,-45,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,-6140,4413,13944,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,-4210,3153,14450,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(215,-8130,-374,710,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,-6320,-1412,2642,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,-2647,-2823,1330,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,10062,1772,5386,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,8642,875,-725,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,-9295,-5083,-2308,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,10888,1511,-3584,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,1268,3054,-6258,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,-5280,5507,-2280,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,111,7506,-71,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,-1270,7098,-1112,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(215,3500,3693,-4202,0,0,0,0x0, bhvRedCoin,48),
OBJECT_WITH_ACTS(180,-8669,-3620,1940,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,-6181,-1950,4073,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,-613,-2041,2372,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,2030,-1566,3944,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,8063,-1342,5592,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,8043,-1368,7820,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,8621,1574,2645,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,2665,3936,-7089,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,1132,3936,-6196,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,1900,3936,-6655,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,-5351,5154,-1133,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,11324,2018,-2677,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(180,11316,2018,-3469,0,0,0,0x0, bhvFireSpitter,62),
OBJECT_WITH_ACTS(0,-1248,5763,-1520,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,-9836,-4784,1089,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,-948,4997,-6414,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,8364,769,-26,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,-3923,2387,13866,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,-5105,-2785,2746,0,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(0,-5358,5099,-1811,90,0,0,0x110000, bhvCoinFormation,63),
OBJECT_WITH_ACTS(84,-9238,-4082,1830,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,-1264,5917,-3338,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,8664,1966,-1404,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,94,4007,-7758,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,-518,-1306,2916,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,-2722,4462,-9328,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,11292,2000,-3061,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,3253,3337,-6179,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,4988,-678,3740,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(137,-9165,-2472,-112,0,0,0,0x60000, bhvExclamationBox,62),
OBJECT_WITH_ACTS(84,5611,-786,9143,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(84,8390,1582,3867,0,0,0,0x0, bhvBoo,62),
OBJECT_WITH_ACTS(220,8415,-719,6399,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(220,-5845,2295,13611,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(220,-4565,2295,13383,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(220,-7307,-382,13890,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(220,-5061,2295,14285,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(220,-6614,2295,14384,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(220,-8485,2295,13963,0,0,0,0x10000, bhvFlyGuy,62),
OBJECT_WITH_ACTS(137,-2668,7306,-63,0,0,0,0x50000, bhvExclamationBox,62),
OBJECT_WITH_ACTS(137,2796,3405,-3286,0,0,0,0x60000, bhvExclamationBox,62),
OBJECT_WITH_ACTS(137,-5603,-945,4104,0,0,0,0x50000, bhvExclamationBox,62),
OBJECT_WITH_ACTS(129,11619,2344,-3063,0,0,0,0x0, bhvHiddenObject,48),
OBJECT_WITH_ACTS(129,12730,2172,-3007,0,0,0,0x0, bhvHiddenObject,48),
OBJECT_WITH_ACTS(129,13913,2037,-3029,0,0,0,0x0, bhvHiddenObject,48),
OBJECT_WITH_ACTS(129,15346,1771,-3012,0,0,0,0x0, bhvHiddenObject,48),
OBJECT_WITH_ACTS(180,15347,1985,-3015,0,0,0,0x0, bhvFireSpitter,48),
OBJECT_WITH_ACTS(180,12728,2387,-2997,0,0,0,0x0, bhvFireSpitter,48),
OBJECT_WITH_ACTS(0,5656,2467,2671,0,0,0,0x210000, bhvFadingWarp,63),
OBJECT_WITH_ACTS(0,6215,-866,8927,0,21,0,0x160000, bhvFadingWarp,63),
OBJECT_WITH_ACTS(212,-9169,-3686,3427,0,0,0,0x0, bhv1Up,63),
OBJECT_WITH_ACTS(212,-7881,-1483,9062,0,0,0,0x0, bhv1Up,63),
OBJECT_WITH_ACTS(212,-6069,-1123,16458,0,0,0,0x0, bhv1Up,63),
OBJECT_WITH_ACTS(137,-1244,6171,-2788,0,0,0,0x1c0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(124,-6370,-4938,-3392,0,206,0,0x9e0000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,-7143,-3691,-3628,0,0,0,0x6080000, bhvExclamationBox,31),
RETURN()
};
const LevelScript local_warps_bbh_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,26,1,58,0),
WARP_NODE(241,26,1,59,0),
WARP_NODE(55,27,1,10,0),
WARP_NODE(22,4,1,33,0),
WARP_NODE(33,4,1,22,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
