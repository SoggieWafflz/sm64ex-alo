#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/ttc/header.h"
extern u8 _ttc_segment_ESegmentRomStart[]; 
extern u8 _ttc_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_ttc_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _ttc_segment_ESegmentRomStart, _ttc_segment_ESegmentRomEnd),
LOAD_MIO0(        /*seg*/ 0x0B, _effect_mio0SegmentRomStart, _effect_mio0SegmentRomEnd),
LOAD_MIO0(0xA,_water_skybox_mio0SegmentRomStart,_water_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group11_mio0SegmentRomStart,_group11_mio0SegmentRomEnd),
LOAD_RAW(12,_group11_geoSegmentRomStart,_group11_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(88,0x0500c778),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_12),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_ttc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,0,0,0,0),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_ttc_1_[] = {
AREA(1,Geo_ttc_1_0x150c4e0),
TERRAIN(col_ttc_1_0xe00c3d0),
SET_BACKGROUND_MUSIC(0,5),
TERRAIN_TYPE(1),
JUMP_LINK(local_objects_ttc_1_),
JUMP_LINK(local_warps_ttc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_ttc_1_[] = {
OBJECT_WITH_ACTS(0,-94,525,-5350,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(137,32,3059,-1600,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-473,3084,-327,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-563,3120,-2832,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,1424,5924,-2341,0,0,0,0x0, bhvHiddenStar,31),
OBJECT_WITH_ACTS(122,-10109,4496,-2376,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(137,-4644,7013,-2005,0,0,0,0xb0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-7605,6203,-1049,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-6800,6203,-1049,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(207,-6800,6203,-2100,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(206,-6800,6203,-3100,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,-6800,6203,-4400,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(129,-6856,4912,-7120,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-5985,5370,-7120,0,0,45,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(137,-4709,5753,-7120,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(207,-4709,5739,-6100,0,0,0,0x0, bhvFloorSwitchAnimatesObject,31),
OBJECT_WITH_ACTS(207,-4709,5739,-5050,0,0,0,0x0, bhvFloorSwitchAnimatesObject,31),
OBJECT_WITH_ACTS(0,-4633,5810,-2268,0,180,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(137,-5065,5753,-7120,0,0,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,2284,2505,-5512,0,0,0,0xc0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,2094,2685,-353,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(207,5023,3473,1357,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,4555,4284,1378,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4555,4947,1378,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,4555,5617,1378,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(207,3559,5716,1550,0,0,0,0x0, bhvFloorSwitchAnimatesObject,31),
OBJECT_WITH_ACTS(207,3559,5716,2500,0,0,0,0x0, bhvFloorSwitchAnimatesObject,31),
OBJECT_WITH_ACTS(0,4764,5219,5354,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,5861,5219,4303,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,3646,5219,4521,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,5296,5219,3285,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,4002,5219,3384,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(180,4764,5219,5354,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,5861,5219,4303,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,3646,5219,4521,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,5296,5219,3285,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4002,5219,3384,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(84,4295,5453,4716,0,0,0,0x0, bhvEnemyLakitu,31),
OBJECT_WITH_ACTS(84,5185,5453,4014,0,0,0,0x0, bhvEnemyLakitu,31),
OBJECT_WITH_ACTS(0,-10108,6065,-7129,0,0,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(215,-677,297,818,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,834,-67,-829,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,802,-67,-2422,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,2077,-527,877,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,3889,1282,-1791,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,5539,5498,1208,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,2256,1239,-1535,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-62,3300,-5840,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-3377,2132,-4218,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-8868,4320,-6396,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,2316,3983,-5085,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,1871,3829,-1990,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-9923,4874,-7091,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-4711,2296,-1559,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-9541,6540,-1326,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(137,-9923,4404,-7091,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-10187,4404,-7091,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-10444,4404,-7091,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,2103,471,-461,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(223,-41,3473,-4555,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,4402,3473,-4012,0,0,0,0x10000, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(180,838,-80,-1585,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,21,-80,-2177,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,53,-80,-951,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,2225,5072,-1481,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,4455,4643,-1870,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(192,3349,4406,-924,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(188,5168,3473,627,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,4084,3473,873,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,4293,3473,137,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(137,-859,3866,1359,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,3996,1378,-1796,0,90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(180,5407,758,-2633,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,5401,758,-841,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4358,685,1245,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-56,758,1309,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,784,677,1217,0,180,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(180,2100,95,326,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,3321,758,483,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10617,2898,-7031,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10601,2898,-5788,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10609,2898,-4286,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10623,2898,-2144,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10623,3328,-2144,0,180,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(194,-10088,4471,-2502,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-10255,4079,-3010,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-9900,3832,-3515,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-10104,3132,-6170,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-10103,3414,-5371,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-10280,3525,-4859,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-9973,3734,-4336,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-10217,4041,-3718,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-10054,3845,-4951,0,180,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(180,-4715,2743,-2023,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-5391,2829,-7141,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(192,-4704,2743,-5839,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(180,-10042,2989,-7195,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(101,-8814,2592,-7200,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(0,-6539,2592,-7169,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(194,-43,3509,656,0,0,0,0x10000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(192,-43,3509,656,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(0,-8684,2592,-2819,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(223,-8009,2592,-5299,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(137,-7760,3509,-6588,0,0,0,0x60000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,-8631,2592,-2739,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(101,-10089,5753,-2222,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(137,-854,525,-4715,0,0,0,0x40000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(101,4398,525,-4800,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(180,2316,4159,-5085,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,2316,4549,-5085,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,3371,1006,-3860,0,90,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(101,-4626,5753,-3381,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(0,-557,2592,-1584,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(137,-708,3761,-4702,0,0,0,0x30000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,-10110,3780,-7154,0,0,0,0xf0000, bhvWarp,31),
RETURN()
};
const LevelScript local_warps_ttc_1_[] = {
WARP_NODE(10,9,1,0,0),
WARP_NODE(15,15,3,10,0),
WARP_NODE(240,6,3,23,0),
WARP_NODE(241,6,3,22,0),
RETURN()
};
