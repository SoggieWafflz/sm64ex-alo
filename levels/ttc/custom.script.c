#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/ttc/header.h"
extern u8 _ttc_segment_ESegmentRomStart[]; 
extern u8 _ttc_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_ttc_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _ttc_segment_ESegmentRomStart, _ttc_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_bbh_skybox_mio0SegmentRomStart,_bbh_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group1_mio0SegmentRomStart,_group1_mio0SegmentRomEnd),
LOAD_RAW(12,_group1_geoSegmentRomStart,_group1_geoSegmentRomEnd),
LOAD_MIO0(6,_group14_mio0SegmentRomStart,_group14_mio0SegmentRomEnd),
LOAD_RAW(13,_group14_geoSegmentRomStart,_group14_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_2),
JUMP_LINK(script_func_global_15),
JUMP_LINK(local_area_ttc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_ttc_1_[] = {
AREA(1,Geo_ttc_1_0x1fc1700),
TERRAIN(col_ttc_1_0xe1135a8),
SET_BACKGROUND_MUSIC(0,39),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_ttc_1_),
JUMP_LINK(local_warps_ttc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_ttc_1_[] = {
OBJECT_WITH_ACTS(0,6192,1388,-15897,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,583,2683,-5387,0,-154,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1680,3835,-5523,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-6612,1024,-3351,0,107,0,0xd0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1980,768,6618,0,-151,0,0xe0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(207,-2504,2360,16307,0,89,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,-1885,2360,16307,0,89,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,-1340,2360,16313,0,89,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,-695,2360,16323,0,89,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,35,2360,16350,0,89,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,1020,2360,16285,0,152,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,1664,2360,15285,0,152,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,2217,2360,14504,0,152,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(192,2142,2338,12895,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-47,2338,13908,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-1206,2338,13611,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-1825,2338,12225,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-441,2338,11673,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-647,2338,10492,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-2131,2338,10543,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(88,10899,2048,-13281,0,0,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(88,12536,932,498,0,0,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(0,6145,13007,15420,0,0,0,0xff0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,13603,568,-4076,0,0,0,0xff0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(192,-5247,1893,7295,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-5250,1893,6769,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-5253,1893,6241,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-5077,1381,4654,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-5077,1381,4124,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-5073,1381,3611,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-4927,1098,2457,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-4926,1098,1950,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-4933,1098,1413,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-7011,229,-9549,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-7005,229,-10080,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-7012,229,-10615,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-9708,2336,16695,0,90,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-9248,2336,16694,0,90,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-8796,2336,16696,0,90,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-8350,2336,16697,0,90,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-7892,2336,16699,0,90,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-7448,2336,16685,0,90,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(145,-9106,2936,16665,0,90,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(145,-8754,2930,16695,0,90,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(145,-11176,2973,16678,0,90,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(207,-5767,2357,16220,0,90,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,-4972,2357,16319,0,90,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(145,-13267,2958,16684,0,90,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(207,-4327,2357,16316,0,90,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,-3678,2357,16311,0,90,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(207,-3107,2357,16303,0,90,0,0x0, bhvFloorSwitchGrills,31),
OBJECT_WITH_ACTS(217,-11759,2818,16707,0,90,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,-10846,2818,16695,0,90,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(145,-11427,2974,16675,0,0,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(145,-13568,2974,16657,0,0,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(122,-14691,2581,16693,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(192,-14204,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-13760,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-13308,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-12856,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-12406,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-11954,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-11510,2339,16687,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-11064,2339,16689,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-10612,2339,16689,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-10162,2339,16681,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(217,5982,15583,16246,0,0,50,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(217,13364,-4,-1752,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(89,-3751,8563,9591,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(24,4364,1085,-16554,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(137,-2830,8971,10095,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(129,-2741,8585,9753,0,0,0,0x0, bhvJumpingBox,31),
OBJECT_WITH_ACTS(124,17227,209,11916,0,-88,0,0x5f0000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(122,15004,461,17755,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(137,6202,5833,-17253,0,0,0,0x6080000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,15856,11325,17620,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-11561,14226,6702,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-14563,9241,16951,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(122,6979,14649,2087,0,0,0,0x5000000, bhvStar,31),
OBJECT_WITH_ACTS(88,2582,11649,9448,0,0,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(103,16544,2403,-2296,0,90,0,0x0, bhvSmallWhomp,31),
OBJECT_WITH_ACTS(0,11253,3334,-11360,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-10912,13162,12602,0,270,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-12524,12454,12151,0,270,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12634,10751,12911,0,270,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(89,-13442,8366,10708,0,270,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(89,-14305,8903,13204,0,270,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,-13773,9480,14414,0,270,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14226,8838,12152,0,270,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-12603,8235,10297,0,270,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(89,-11014,7344,9708,0,270,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(0,-11093,7488,6456,0,272,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-9020,5509,8187,0,272,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-7696,2937,3048,0,181,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-8708,2298,107,0,181,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-10098,1892,-2162,0,90,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-12514,1977,-2140,0,90,0,0x130000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(194,-15361,7519,-7623,0,90,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,-13136,436,-10888,0,90,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(89,-12318,867,-13971,0,90,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,-7383,337,-14456,0,90,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,8200,299,-6964,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(100,10136,4649,4970,0,39,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(100,10920,4649,5738,0,39,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(116,8337,5123,4244,0,39,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,7127,5123,4236,0,39,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(180,6028,5123,4217,0,39,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,2709,4548,3537,0,39,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,3855,4823,505,0,39,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,3772,4823,1363,0,39,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,5183,5450,-3330,0,39,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(100,10144,1706,-13963,0,39,0,0x0, bhvPiranhaPlant,31),
OBJECT_WITH_ACTS(100,1096,1922,-7722,0,39,0,0x0, bhvPiranhaPlant,31),
OBJECT_WITH_ACTS(180,-1602,2686,-6703,0,39,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,274,3804,-3940,0,39,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(102,5191,5372,-3330,0,39,0,0x0, bhvChainChomp,31),
OBJECT_WITH_ACTS(100,6154,490,-6673,0,39,0,0x0, bhvFirePiranhaPlant,31),
OBJECT_WITH_ACTS(0,12523,1667,507,0,39,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,4991,2021,-17085,0,39,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,8337,0,-10318,0,39,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(103,7309,0,-13052,0,0,0,0x0, bhvSmallWhomp,31),
OBJECT_WITH_ACTS(24,9462,1167,-17080,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,7103,1167,-16387,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(24,2206,1167,-16632,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(180,-5139,1167,-11682,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-2865,1167,-11695,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,17272,10059,4108,0,193,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,7223,14556,5660,0,193,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(194,3692,16720,17725,0,179,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(194,1773,16720,15494,0,179,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(0,2235,11591,8591,0,179,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(145,8145,9551,7706,0,179,0,0x0, bhvFlame,31),
OBJECT_WITH_ACTS(89,9205,9108,8993,0,179,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,9889,8978,10467,0,179,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(88,11339,8503,9011,0,179,0,0x0, bhvThwomp,31),
OBJECT_WITH_ACTS(192,11099,380,17467,0,161,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,11734,380,17431,0,161,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(0,7217,1153,15141,0,161,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,7301,511,6344,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(100,-8951,2719,-1923,0,0,0,0x0, bhvPiranhaPlant,31),
OBJECT_WITH_ACTS(0,-4912,1027,-14474,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-762,1090,-13965,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(192,2235,2301,13020,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-23,2301,14047,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-410,2301,11801,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-2138,2301,10425,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,2056,2301,12955,0,0,0,0x0, bhvGoomba,31),
RETURN()
};
const LevelScript local_warps_ttc_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,26,1,30,0),
WARP_NODE(241,26,1,31,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
