#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/jrb/header.h"
extern u8 _jrb_segment_ESegmentRomStart[]; 
extern u8 _jrb_segment_ESegmentRomEnd[];
const LevelScript level_jrb_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _jrb_segment_7SegmentRomStart, _jrb_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _jrbSegmentRomStart, _jrbSegmentRomEnd),
LOAD_RAW(0x0E, _jrb_segment_ESegmentRomStart, _jrb_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom31719104_skybox_mio0SegmentRomStart,_SkyboxCustom31719104_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group2_mio0SegmentRomStart,_group2_mio0SegmentRomEnd),
LOAD_RAW(12,_group2_geoSegmentRomStart,_group2_geoSegmentRomEnd),
LOAD_MIO0(6,_group14_mio0SegmentRomStart,_group14_mio0SegmentRomEnd),
LOAD_RAW(13,_group14_geoSegmentRomStart,_group14_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_LEFT_HALF_PART,  jrb_geo_000978),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_BACK_LEFT_PART,  jrb_geo_0009B0),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_RIGHT_HALF_PART, jrb_geo_0009E8),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SHIP_BACK_RIGHT_PART, jrb_geo_000A00),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SUNKEN_SHIP,          jrb_geo_000990),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SUNKEN_SHIP_BACK,     jrb_geo_0009C8),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_ROCK,                 jrb_geo_000930),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_SLIDING_BOX,          jrb_geo_000960),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FALLING_PILLAR,       jrb_geo_000900),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FALLING_PILLAR_BASE,  jrb_geo_000918),
    LOAD_MODEL_FROM_GEO(MODEL_JRB_FLOATING_PLATFORM,    jrb_geo_000948),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(131,0x04037070),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_GEO(137,0x04036f60),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
// LOAD_MODEL_FROM_GEO(245,0x0404cf00),
// LOAD_MODEL_FROM_GEO(246,0x0404ce00),
// LOAD_MODEL_FROM_GEO(247,0x0404cf80),
// LOAD_MODEL_FROM_GEO(248,0x0404cfc0),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_3),
JUMP_LINK(script_func_global_15),
JUMP_LINK(local_area_jrb_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_jrb_1_[] = {
AREA(1,Geo_jrb_1_0x1d01700),
TERRAIN(col_jrb_1_0xe106c28),
SET_BACKGROUND_MUSIC(0,68),
TERRAIN_TYPE(1),
JUMP_LINK(local_objects_jrb_1_),
JUMP_LINK(local_warps_jrb_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_jrb_1_[] = {
OBJECT_WITH_ACTS(0,-9052,1566,3388,0,90,0,0xa0000, bhvWarp,31),
OBJECT_WITH_ACTS(0,-11913,3113,3748,0,135,0,0x140000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-12041,3113,3743,0,135,0,0x140000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-12043,3113,3875,0,135,0,0x140000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-11910,3113,3884,0,135,0,0x140000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-3860,1159,9578,0,180,0,0x1e0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(22,-5388,2552,2173,0,111,0,0x280000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,8582,-1140,12168,0,134,0,0x320000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,12075,-1084,-8675,0,45,0,0x320000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,-4232,1386,288,0,-90,0,0x3c0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,4202,859,-5612,0,225,0,0x3c0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(122,2209,3717,4559,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(122,-3680,1668,8690,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(0,3299,1531,-8485,0,0,0,0x4000000, bhvFlipswitch_Panel_StarSpawn_MOP,31),
OBJECT_WITH_ACTS(122,8088,5315,1887,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(137,9914,4632,-3205,0,0,0,0xb0007, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,12489,-775,-8245,0,0,0,0x5000000, bhvStar,31),
OBJECT_WITH_ACTS(242,-1780,1191,-1241,0,0,0,0x0, bhvSwitchblock_Switch_MOP,31),
OBJECT_WITH_ACTS(128,2872,2414,-3715,0,0,0,0x0, bhvCannon,31),
OBJECT_WITH_ACTS(241,2872,2382,-3715,0,0,0,0x2020000, bhvSwitchblock_MOP,31),
OBJECT_WITH_ACTS(137,9004,-820,11741,0,45,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,15288,-1660,0,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(240,9210,1471,30,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9000,1471,30,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9420,1471,30,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9630,1471,30,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9656,2408,-1470,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9866,2408,-1470,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9912,3331,-2950,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(240,9912,3832,-2950,0,0,0,0x0, bhvFlipBlock_MOP,31),
OBJECT_WITH_ACTS(42,-8364,1024,-5330,0,0,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,-7864,1024,-8558,0,0,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,-4185,1099,-10162,0,-90,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,-983,1174,-9396,0,0,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,1366,822,-9414,0,0,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,3450,1174,-7596,0,90,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(59,-6964,907,-3822,0,0,0,0x0, bhvPlatformOnTrack,31),
OBJECT_WITH_ACTS(124,3545,859,-5824,0,159,0,0x80000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(124,-7315,3959,-2009,0,0,0,0xf0000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(86,1084,1832,500,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-2341,1159,5471,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-8926,2737,-199,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-447,2027,-4953,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,6552,1159,4783,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,7816,1473,2119,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-1916,1384,-9404,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(100,-6569,1376,3998,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,-7436,1386,823,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,2195,2300,-5968,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,341,1156,-6682,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,-66,3456,2859,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,9385,3199,1060,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,528,1084,5722,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,-5484,3337,-490,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(100,-877,1410,-2373,0,0,0,0x0, bhvSmallBomp,31),
OBJECT_WITH_ACTS(0,-551,1316,4262,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,2517,2354,-4860,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,7159,3199,1156,0,0,0,0x10000, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-5006,3337,3322,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-10919,3056,2358,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-10548,3174,5295,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(192,-11466,3105,3525,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(0,-7124,1352,5850,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(192,-5647,1528,737,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,1761,3300,3989,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-3765,2638,-7188,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-3712,1308,8630,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,316,1950,-3665,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(212,-3510,809,5260,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,-532,1804,2276,0,-10,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,2812,999,-6720,0,62,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,4362,1253,5297,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-5584,3431,1926,0,16,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-7111,2661,-3282,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-11177,3268,4477,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-2499,2271,-4983,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-1871,3505,1964,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-6952,1313,-1311,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-4170,1178,-9027,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,14071,-257,3737,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,13931,-1423,-4078,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-6056,1103,-7495,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(137,-9262,1904,6281,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-3684,1457,10598,0,0,0,0x60008, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-4795,2905,-5163,0,-29,0,0x60009, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-5533,2905,-5635,0,-29,0,0x120009, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-7288,4255,-1630,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(195,-4954,2677,-6343,0,-48,0,0x10000, bhvBobombBuddy,31),
OBJECT_WITH_ACTS(137,-4622,2001,-9019,0,0,0,0x30005, bhvExclamationBox,31),
OBJECT_WITH_ACTS(192,-10377,3105,3681,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(116,-5225,1207,6274,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-5097,1207,6648,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-4935,1207,7079,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(195,-4724,1159,7634,0,0,0,0x270000, bhvBobombBuddy,31),
OBJECT_WITH_ACTS(124,-6969,1386,3365,0,-90,0,0x280000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,-3864,1140,9789,0,0,0,0x1e0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-3771,1140,9699,0,0,0,0x1e0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-3979,1140,9696,0,0,0,0x1e0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,8,5,253,0,0,0,29, editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,4,5,135,0,0,0,30, editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,0,32512,8704,0,0,0,0xe11e178, Bhv_Custom_0x0040f000,31),
RETURN()
};
const LevelScript local_warps_jrb_1_[] = {
WARP_NODE(10,26,1,130,0),
WARP_NODE(20,12,1,30,0),
WARP_NODE(30,12,1,20,0),
WARP_NODE(40,12,1,50,0),
WARP_NODE(50,12,1,40,0),
WARP_NODE(240,6,1,50,0),
WARP_NODE(241,26,1,131,0),
WARP_NODE(60,12,1,60,0),
WARP_NODE(70,12,1,60,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
