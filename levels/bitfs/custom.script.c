#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/bitfs/header.h"
extern u8 _bitfs_segment_ESegmentRomStart[]; 
extern u8 _bitfs_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_bitfs_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _bitfs_segment_ESegmentRomStart, _bitfs_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_bidw_skybox_mio0SegmentRomStart,_bidw_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group2_mio0SegmentRomStart,_group2_mio0SegmentRomEnd),
LOAD_RAW(12,_group2_geoSegmentRomStart,_group2_geoSegmentRomEnd),
LOAD_MIO0(6,_group16_mio0SegmentRomStart,_group16_mio0SegmentRomEnd),
LOAD_RAW(13,_group16_geoSegmentRomStart,_group16_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(100,0x06003754),
// LOAD_MODEL_FROM_GEO(101,0x06003874),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_3),
JUMP_LINK(script_func_global_17),
JUMP_LINK(local_area_bitfs_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,0,0,0,0),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_bitfs_1_[] = {
AREA(1,Geo_bitfs_1_0x172af30),
TERRAIN(col_bitfs_1_0xe01ac60),
SET_BACKGROUND_MUSIC(0,8),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_bitfs_1_),
JUMP_LINK(local_warps_bitfs_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bitfs_1_[] = {
OBJECT_WITH_ACTS(0,2678,-2151,-2835,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(137,2678,-2290,-2835,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,-14566,9075,-6299,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,1456,7473,11959,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,9425,5521,-2004,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(0,4205,-4812,-9064,0,0,0,0x4000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(0,-314,-6171,-7504,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-399,-6171,-10415,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,4115,-6171,-11515,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,3329,-6171,-9182,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1221,-6171,-10616,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(116,-314,-6171,-7504,0,0,0,0x0, bhvYellowCoin,31),
OBJECT_WITH_ACTS(116,-399,-6171,-10415,0,0,0,0x0, bhvYellowCoin,31),
OBJECT_WITH_ACTS(116,4115,-6171,-11515,0,0,0,0x0, bhvYellowCoin,31),
OBJECT_WITH_ACTS(116,3329,-6171,-9182,0,0,0,0x0, bhvYellowCoin,31),
OBJECT_WITH_ACTS(116,1221,-6171,-10616,0,0,0,0x0, bhvYellowCoin,31),
OBJECT_WITH_ACTS(207,2241,-6171,-7393,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,1885,-5707,-10877,0,32,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(137,4965,1599,5426,0,45,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,5465,1599,5926,0,45,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,5965,1599,6426,0,45,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,5965,2100,6426,0,45,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-5091,-3550,77,0,0,0,0x30000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-5530,-3550,77,0,0,0,0x30000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(86,2430,-6171,-7834,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,1880,-6171,-8954,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-289,-6171,-7555,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,1946,-6171,-7180,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,2483,-6171,-10980,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-460,-6171,-10306,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,3313,-6171,-9247,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,3862,-6171,-11271,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,1133,-6171,-10663,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(180,2308,-5840,-7634,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-95,-5840,-7740,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4182,-5840,-11612,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-494,-5840,-10515,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,2482,-5840,-11048,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,1192,-5840,-10717,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,3320,-5840,-9412,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,1933,-5840,-9003,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(129,2142,-5162,-10626,0,32,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(22,2702,-7023,-2963,0,0,0,0x40000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,-13625,1636,3434,0,0,0,0x10000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,-12491,1636,2514,0,0,0,0x20000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(22,2599,-582,-2829,0,0,0,0x30000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(137,-13833,2200,2207,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,12286,8101,-2423,0,0,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(215,-13649,1675,2532,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-1449,-1732,-2982,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-8804,4093,961,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,4013,-3617,2766,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,1959,-435,2271,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-7118,-929,-31,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,97,-751,-9025,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(0,97,-1760,-9025,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(215,5114,-2607,-2437,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,9050,5595,-4141,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,9646,7665,-2577,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,10695,8566,-2438,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-5306,-4273,-5649,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-14152,3515,4020,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(137,1644,3933,9353,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,1232,-3187,-13739,0,34,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,4190,-4751,-9098,0,214,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(137,3800,-3340,-9379,0,8,0,0xf0000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,5893,-2966,-8967,0,34,0,0x30000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(194,5893,-3613,-8967,0,34,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,5893,-3519,-8967,0,34,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(194,1369,-4824,-13467,0,34,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(194,1751,-4854,-13209,0,34,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,1582,-4854,-12709,0,34,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,2205,-4854,-12528,0,34,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,2281,-4854,-11543,0,34,0,0x30000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,2189,-4449,-12150,0,34,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,3445,-4449,-10211,0,34,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(0,3068,-4471,-7793,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,659,-2256,-8862,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-463,-2256,-8923,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(188,1967,-3340,-8799,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(86,-5345,-4097,-5271,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(223,-5302,-4097,-4086,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(86,-5344,-4097,-400,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-14730,4016,-4735,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(188,-8787,2964,-3367,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(86,-12449,2224,-2604,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,-9862,2224,-473,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(180,-12370,2525,-94,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-10184,2525,-2648,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-11228,1133,-1407,0,0,0,0x120000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(86,4548,-582,4396,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,4932,1599,3312,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,2664,1599,1782,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(192,4984,1599,4934,0,0,0,0x20000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,3618,-582,1862,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(137,6728,206,3451,0,45,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(180,5112,-1840,-2430,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10331,-1188,-3928,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10331,3400,-3928,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10331,3725,-3928,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(86,10204,6506,-3645,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(86,9263,9743,-1833,0,0,0,0x0, bhvSmallBully,31),
OBJECT_WITH_ACTS(188,9239,10276,-2927,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(215,2242,1818,2252,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,5168,66,1798,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(122,-14169,1288,1722,0,0,0,0x6000000, bhvStar,31),
OBJECT_WITH_ACTS(0,2044,6827,11377,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,2044,6827,11377,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,2725,-2000,-3797,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(22,9947,10676,-2956,0,0,0,0x50000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(101,-13355,4016,874,0,0,0,0x0, bhvBigChillBully,31),
OBJECT_WITH_ACTS(0,9727,10676,-2704,0,0,0,0xc0000, bhvPaintingDeathWarp,31),
RETURN()
};
const LevelScript local_warps_bitfs_1_[] = {
WARP_NODE(10,9,1,0,0),
WARP_NODE(4,19,1,1,0),
WARP_NODE(1,19,1,4,0),
WARP_NODE(2,19,1,3,0),
WARP_NODE(3,19,1,2,0),
WARP_NODE(5,33,1,10,0),
WARP_NODE(12,19,1,12,0),
WARP_NODE(240,6,2,27,0),
WARP_NODE(241,6,2,26,0),
RETURN()
};
