#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/totwc/header.h"
extern u8 _totwc_segment_ESegmentRomStart[]; 
extern u8 _totwc_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_totwc_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _totwc_segment_ESegmentRomStart, _totwc_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom56229568_skybox_mio0SegmentRomStart,_SkyboxCustom56229568_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group8_mio0SegmentRomStart,_group8_mio0SegmentRomEnd),
LOAD_RAW(12,_group8_geoSegmentRomStart,_group8_geoSegmentRomEnd),
LOAD_MIO0(6,_group16_mio0SegmentRomStart,_group16_mio0SegmentRomEnd),
LOAD_RAW(13,_group16_geoSegmentRomStart,_group16_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(84,0x05002e00,4),
// LOAD_MODEL_FROM_DL(86,0x05003120,4),
// LOAD_MODEL_FROM_GEO(100,0x06003754),
// LOAD_MODEL_FROM_GEO(101,0x06003874),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_9),
JUMP_LINK(script_func_global_17),
JUMP_LINK(local_area_totwc_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_totwc_1_[] = {
AREA(1,Geo_totwc_1_0x3461700),
TERRAIN(col_totwc_1_0xe040eb0),
SET_BACKGROUND_MUSIC(0,61),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_totwc_1_),
JUMP_LINK(local_warps_totwc_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_totwc_1_[] = {
OBJECT_WITH_ACTS(0,-13473,1298,4475,0,-190,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,583,2683,-5387,0,-154,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1680,3835,-5523,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-6612,1024,-3351,0,107,0,0xd0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1980,768,6618,0,-151,0,0xe0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(122,-19456,9141,17624,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(122,8499,-1939,4652,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,28700,3065,1063,0,-91,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,8805,-2999,-17232,0,-91,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(0,1776,-3320,-2800,0,-91,0,0x4000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(0,-4369,2347,-13881,0,-91,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(207,-19442,3098,17545,0,-91,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,-17501,3985,17199,0,0,0,0x1000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-18176,3711,18353,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-18824,3503,18308,0,0,325,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-19270,3154,18324,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-19610,8503,17459,0,0,0,0x5000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(207,-19432,8150,17643,0,0,0,0x5000000, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(207,-19432,6866,17643,0,0,0,0x4000000, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(207,-22039,5532,17632,0,0,0,0x3000000, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(207,-18198,5532,17609,0,0,0,0x2000000, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(207,-18169,3984,17699,0,0,0,0x1000000, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(129,-22273,5339,17618,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-22635,4804,17555,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-21812,4596,17661,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-19393,5289,17578,0,0,0,0x2000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-17765,5395,17649,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-17150,5150,17555,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-17171,4939,17652,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-17163,4524,17182,0,0,0,0x1000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-18800,7457,18497,0,11,0,0x4000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-19038,6850,18207,0,0,0,0x4000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-19417,6868,17636,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-21378,6954,17976,0,0,0,0x3000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-21347,6603,17346,0,0,9050,0x3000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-21387,5818,17625,0,0,0,0x3000000, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-19200,8005,18168,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(85,-8134,528,-4780,0,0,0,0x0, bhvCapSwitch,31),
OBJECT_WITH_ACTS(192,4802,154,-13960,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,1780,154,-10707,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,4619,154,-11403,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(0,-4371,2094,-13883,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(220,-14919,1911,10446,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,14641,1619,-13297,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,4436,1363,-11361,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-4986,1363,-13840,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(0,-6919,805,-13825,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-13872,1213,-15049,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,-13872,1213,-15049,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-18796,827,-16959,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-22640,2571,-4648,0,0,0,0x0, bhvBirdsSoundLoop,31),
OBJECT_WITH_ACTS(0,-9548,2571,18939,0,0,0,0x0, bhvBirdsSoundLoop,31),
OBJECT_WITH_ACTS(0,15252,2571,-314,0,0,0,0x0, bhvBirdsSoundLoop,31),
OBJECT_WITH_ACTS(0,7176,570,-20694,0,0,0,0x0, bhvBirdsSoundLoop,31),
OBJECT_WITH_ACTS(223,15840,920,-13106,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,11149,945,-15857,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,11079,1469,-13678,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,10021,2231,-13327,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,6919,1114,-15532,0,-86,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,4275,69,-12644,0,-84,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,5072,69,-10911,0,-84,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,3531,69,-11176,0,-84,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(180,11466,1095,4500,0,-84,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(116,11571,977,-2198,0,-84,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,9725,1086,-3918,0,-84,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(223,8031,613,-4555,0,-84,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,6078,509,-5130,0,-84,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,4583,51,-6572,0,-80,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,1841,51,-6382,0,-80,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-2345,51,-5957,0,-80,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-11367,242,1333,0,-33,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(188,24837,899,-8533,-1,-24,-2,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,26842,899,-5156,-1,-24,-2,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,25967,899,-7446,-1,-24,-2,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,20626,680,-8870,0,-24,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(180,16094,750,-10921,0,-24,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-8739,3437,6566,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7986,3437,2676,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7919,3437,-1230,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7747,3437,-4619,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-7969,3437,-7701,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-17192,1380,-16223,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(137,-19889,-3250,-16912,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,28532,1609,-6685,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,17014,647,-10543,0,0,0,0x90000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,16013,921,-13666,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,29411,1360,-3066,0,0,0,0xaa0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-15853,-2781,-4732,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(116,-15853,-2781,-4732,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-14257,-2990,-5727,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,-14257,-2990,-5727,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(137,-13072,-2990,-6500,0,0,0,0x0, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,-13463,-3224,-5981,0,0,0,0x690000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-13974,-3191,-5883,0,0,0,0x690000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-14335,-3184,-5917,0,0,0,0x690000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-14320,-3184,-5520,0,0,0,0x690000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-14566,-3221,-5212,0,0,0,0x690000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-14934,-3259,-5294,0,0,0,0x6e0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-15403,-3368,-5116,0,0,0,0x730000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-15566,-3781,-4710,0,0,0,0xaf0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-16164,-3851,-4901,0,0,0,0xb40000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-16271,-3851,-4244,0,0,0,0xb90000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-16525,-4302,-4573,0,0,0,0xcd0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-16783,-4672,-4118,0,0,0,0xe60000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-17052,-4748,-4566,0,0,0,0xe10000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-17377,-4986,-4421,0,0,0,0xff0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(180,-20435,222,-17412,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-20847,-2197,-17285,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,929,-3208,-2763,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,929,-3519,-2763,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,929,-3856,-2763,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,10,-4359,-2679,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(116,10,-4359,-2679,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(217,-2810,-4359,-6915,0,0,0,0x0, bhvPushableMetalBox,31),
OBJECT_WITH_ACTS(116,-2810,-3945,-6915,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(0,-2810,-3945,-6915,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-17381,-2564,-4419,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(116,-17381,-2564,-4419,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(180,-13699,-2887,-5512,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14961,-2887,-5611,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-15771,-3405,-4888,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-16614,-3589,-4679,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-17016,-4207,-4189,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(215,-18686,-55,12502,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-18781,82,14478,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-6381,85,-8808,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,19688,287,-11342,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(188,18188,116,-11240,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,19002,116,-12429,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,30406,2887,-3378,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,28218,2887,-3943,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(194,-9154,3302,11494,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(0,-15390,2060,11931,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-16375,3244,15123,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(180,-18134,2378,14179,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-18672,5,12545,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,-15392,2088,11861,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(215,-6202,342,-14805,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-21752,1459,-18421,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,9999,141,-3474,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,4956,-96,-6614,0,0,0,0x0, bhvRedCoin,31),
RETURN()
};
const LevelScript local_warps_totwc_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,16,1,34,0),
WARP_NODE(241,16,1,35,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
