#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/ttm/header.h"
extern u8 _ttm_segment_ESegmentRomStart[]; 
extern u8 _ttm_segment_ESegmentRomEnd[];
#include "levels/ssl/header.h"
const LevelScript level_ttm_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _ssl_segment_7SegmentRomStart, _ssl_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _sslSegmentRomStart, _sslSegmentRomEnd),
LOAD_RAW(0x0E, _ttm_segment_ESegmentRomStart, _ttm_segment_ESegmentRomEnd),
LOAD_MIO0(0xA,_cloud_floor_skybox_mio0SegmentRomStart,_cloud_floor_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group5_mio0SegmentRomStart,_group5_mio0SegmentRomEnd),
LOAD_RAW(12,_group5_geoSegmentRomStart,_group5_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_SSL_PALM_TREE,           palm_tree_geo),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_03,       ssl_geo_0005C0),
LOAD_MODEL_FROM_GEO(MODEL_LEVEL_GEOMETRY_04,       ssl_geo_0005D8),
LOAD_MODEL_FROM_GEO(MODEL_SSL_PYRAMID_TOP,         ssl_geo_000618),
LOAD_MODEL_FROM_GEO(MODEL_SSL_GRINDEL,             ssl_geo_000734),
LOAD_MODEL_FROM_GEO(MODEL_SSL_SPINDEL,             ssl_geo_000764),
LOAD_MODEL_FROM_GEO(MODEL_SSL_MOVING_PYRAMID_WALL, ssl_geo_000794),
LOAD_MODEL_FROM_GEO(MODEL_SSL_PYRAMID_ELEVATOR,    ssl_geo_0007AC),
LOAD_MODEL_FROM_GEO(MODEL_SSL_TOX_BOX,             ssl_geo_000630),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_GEO(86,0x05014630),
// LOAD_MODEL_FROM_GEO(131,0x04037070),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_GEO(137,0x04036f60),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
// LOAD_MODEL_FROM_GEO(245,0x0404cf00),
// LOAD_MODEL_FROM_GEO(246,0x0404ce00),
// LOAD_MODEL_FROM_GEO(247,0x0404cf80),
// LOAD_MODEL_FROM_GEO(248,0x0404cfc0),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_6),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_ttm_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_ttm_1_[] = {
AREA(1,Geo_ttm_1_0x3b41700),
TERRAIN(col_ttm_1_0xe100b78),
SET_BACKGROUND_MUSIC(0,59),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_ttm_1_),
JUMP_LINK(local_warps_ttm_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_ttm_1_[] = {
OBJECT_WITH_ACTS(0,-2440,-4738,-341,0,0,0,0xa0000, bhvWarp,31),
OBJECT_WITH_ACTS(0,17563,-1813,-4258,0,-90,0,0x140000, bhvWarp,31),
OBJECT_WITH_ACTS(0,60,-4643,-1131,0,-90,0,0x1e0000, bhvWarp,31),
OBJECT_WITH_ACTS(22,8351,-2213,-179,0,0,0,0x1e0000, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,9261,-1463,-4253,0,0,0,0x280000, bhvWarp,31),
OBJECT_WITH_ACTS(0,12817,-1463,-5237,0,0,0,0x0, bhvEyerokBoss,31),
OBJECT_WITH_ACTS(194,12312,-1393,-4761,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,13325,-1393,-4761,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,12809,-1393,-4260,0,0,0,0x10000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,12303,-1393,-3759,0,0,0,0x20000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,13310,-1393,-3760,0,0,0,0x20000, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(137,15837,-1167,-4243,0,0,0,0x7000b, bhvExclamationBox,31),
OBJECT_WITH_ACTS(34,9517,-1463,-4253,0,90,0,0x17000000, bhvLllBowserPuzzlePiece,31),
OBJECT_WITH_ACTS(122,-11148,4286,3157,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-17471,2286,-3626,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(0,-2189,-3637,-11058,0,0,0,0x3000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(0,162,-2288,-14601,0,0,0,0x4000000, bhvFlipswitch_Panel_StarSpawn_MOP,31),
OBJECT_WITH_ACTS(122,8871,459,1393,0,0,0,0x5000000, bhvStar,31),
OBJECT_WITH_ACTS(137,1890,-2153,-3895,0,0,0,0x30005, bhvExclamationBox,31),
OBJECT_WITH_ACTS(215,-2503,-3571,-7204,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-5301,-3571,-8850,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-1726,-3271,-9567,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-2725,-3571,-12580,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-6220,-3571,-13002,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-8596,-3271,-11068,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-9960,-3571,-14449,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-10719,-4262,-12514,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(0,1188,-2983,2929,0,0,0,0x820000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,1189,-1845,2218,0,0,0,0x820000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,1677,-975,1732,0,0,0,0x820000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,4616,-525,-1431,0,0,0,0x820000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,5667,-1100,-931,0,0,0,0x820000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-14679,-2703,-4298,0,0,0,0x820000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(0,-18708,-2183,-3508,0,0,0,0x6d0000, bhvPoleGrabbing,31),
OBJECT_WITH_ACTS(137,-1926,-3241,-5206,0,0,0,0x320009, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-8991,-2942,-3120,0,0,0,0x60009, bhvExclamationBox,31),
OBJECT_WITH_ACTS(0,-2407,-4689,2409,0,-74,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-2855,-5387,11398,0,0,0,0x120000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-9953,-5387,10952,0,0,0,0x120000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-13474,-5387,2422,0,0,0,0x120000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-10643,-1253,3987,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,1287,-3451,-427,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,7019,-1170,411,0,45,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,462,-1764,-10168,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,787,-3463,-3939,0,45,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-7738,-2589,5233,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-11144,3160,7215,0,0,0,0x120000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-5724,-4614,-11300,0,0,0,0x120000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,3328,-3414,-1437,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,1193,-264,2223,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-6719,-3714,-316,0,-45,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-17831,160,-3618,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(129,-4994,-843,8038,0,0,0,0x10000, bhvBreakableBox,31),
OBJECT_WITH_ACTS(137,-4994,-262,8038,0,0,0,0x50009, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,2610,-981,-899,0,0,0,0x120009, bhvExclamationBox,31),
OBJECT_WITH_ACTS(188,-865,-5138,-835,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-1580,-5138,807,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-3795,-5138,-288,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-2268,-5138,-2947,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,960,-4588,-4467,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-6100,-3638,-2000,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-11261,-3388,-4480,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,-70,-3463,-14663,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,8103,-1713,903,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,1315,-4213,729,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(188,539,-4838,-2059,0,0,0,0x0, bhvBobomb,31),
OBJECT_WITH_ACTS(0,-2049,-4638,4109,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-7532,-638,7128,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-5992,-3138,4914,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-7171,1861,9576,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(192,-4859,-638,10136,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-3695,-638,6986,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-11120,3111,3858,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(0,-6983,-3388,-963,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-605,-3387,-5008,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,2961,-463,-356,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(192,2590,-4713,1988,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,2452,-5138,5122,0,0,0,0x10000, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-11567,-2388,-2585,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-6255,-4137,-6692,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(192,-2606,-4137,-5505,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(220,-9054,-3671,-2151,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-11397,-2821,-4566,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-16595,-571,-3668,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-18335,429,-2868,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-17099,1428,-4107,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-8806,-3570,-8244,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-3435,-2720,-9329,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-5228,-3095,-13629,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(220,-8923,-3219,-14071,0,0,0,0x0, bhvFlyGuy,31),
OBJECT_WITH_ACTS(43,-88,-3123,-6560,0,0,0,0xfaa0000, bhvGreen_Switchboard_MOP,31),
OBJECT_WITH_ACTS(43,467,-3123,-8789,0,0,0,0xfaa0000, bhvGreen_Switchboard_MOP,31),
OBJECT_WITH_ACTS(43,-88,-3123,-10933,0,0,0,0xfaa0000, bhvGreen_Switchboard_MOP,31),
OBJECT_WITH_ACTS(42,-567,-3093,-7696,0,0,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,460,-3093,-11877,0,-90,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(42,457,-3414,-9889,0,-90,0,0x0, bhvFlipswitch_Panel_MOP,31),
OBJECT_WITH_ACTS(124,8621,-2213,-266,0,0,0,0x700000, bhvMessagePanel,31),
OBJECT_WITH_ACTS(0,8,4,101,0,0,0,145, editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,8,5,6,0,0,0,146, editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,0,32256,12288,0,0,0,0xe110c28, Bhv_Custom_0x0040f000,31),
OBJECT_WITH_ACTS(0,0,32512,8704,0,0,0,0xe114c68, Bhv_Custom_0x0040f000,31),
OBJECT_WITH_ACTS(0,4,5,69,0,0,0,147, editor_Scroll_Texture,31),
OBJECT_WITH_ACTS(0,0,32512,8448,0,0,0,0xe114e48, Bhv_Custom_0x0040f000,31),
OBJECT_WITH_ACTS(0,0,32640,9216,0,0,0,0xe114ee0, Bhv_Custom_0x0040f000,31),
RETURN()
};
const LevelScript local_warps_ttm_1_[] = {
WARP_NODE(10,16,1,122,0),
WARP_NODE(20,16,1,120,0),
WARP_NODE(30,36,1,30,0),
WARP_NODE(40,9,1,69,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,6,1,50,0),
WARP_NODE(241,16,1,121,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
