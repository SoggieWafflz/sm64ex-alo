#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/bitdw/header.h"
extern u8 _bitdw_segment_ESegmentRomStart[]; 
extern u8 _bitdw_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_bitdw_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _bitdw_segment_ESegmentRomStart, _bitdw_segment_ESegmentRomEnd),
LOAD_MIO0(        /*seg*/ 0x0B, _effect_mio0SegmentRomStart, _effect_mio0SegmentRomEnd),
LOAD_MIO0(0xA,_SkyboxCustom38928064_skybox_mio0SegmentRomStart,_SkyboxCustom38928064_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group1_mio0SegmentRomStart,_group1_mio0SegmentRomEnd),
LOAD_RAW(12,_group1_geoSegmentRomStart,_group1_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_2),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_bitdw_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_bitdw_1_[] = {
AREA(1,Geo_bitdw_1_0x23e1700),
TERRAIN(col_bitdw_1_0xe0582f0),
SET_BACKGROUND_MUSIC(0,53),
TERRAIN_TYPE(0),
JUMP_LINK(local_objects_bitdw_1_),
JUMP_LINK(local_warps_bitdw_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_bitdw_1_[] = {
OBJECT_WITH_ACTS(0,-5398,-4426,12785,0,-90,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,583,2683,-5387,0,-154,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1680,3835,-5523,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-6612,1024,-3351,0,107,0,0xd0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1980,768,6618,0,-151,0,0xe0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(137,-12275,2357,-5815,0,0,0,0x20000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,949,-2813,1615,0,27,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,-1455,166,-8841,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,14952,5960,-1915,0,0,0,0x10000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(22,13712,6906,-13686,0,0,0,0x0, bhvWarpPipe,31),
OBJECT_WITH_ACTS(0,13278,7380,-13984,0,180,0,0x10000, bhvPaintingDeathWarp,31),
OBJECT_WITH_ACTS(137,-7445,4428,8941,0,0,0,0x80000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,-7602,5616,-4603,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(122,11840,7452,10259,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,11668,-1782,11513,0,0,0,0x3000000, bhvStar,31),
OBJECT_WITH_ACTS(0,-8046,1332,-13485,0,0,0,0x4000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(0,8800,7272,-13350,0,0,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(0,-1401,-1914,-13693,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,-731,-1632,-9551,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,460,-2406,-10837,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,1956,-2406,-14542,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,601,-2122,-13416,0,0,0,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(116,-1403,-1926,-13695,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,622,-2194,-13419,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,1946,-2442,-14541,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-713,-1650,-9550,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,474,-2442,-10858,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,2094,-1818,-10000,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-1568,-1896,-11428,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(215,-7621,-3672,11611,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-6918,-2480,3533,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-3312,-288,1855,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-9301,1404,-1498,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-12309,5958,-10682,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,473,-1295,-10872,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,2035,-750,-1308,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,3433,-3084,7156,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,13246,5418,-5198,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,12399,1188,10451,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,6266,5094,-6277,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,4738,9864,3626,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(0,-11381,-5084,12847,0,45,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-10889,349,-7231,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-3267,319,-667,0,0,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,2928,-2124,12237,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,12363,681,-2300,0,57,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,4427,-1008,-11561,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,8657,-324,-13798,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,13696,1656,-7000,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,783,-1811,1519,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,8180,1558,13810,0,90,0,0x0, bhvCoinFormation,31),
OBJECT_WITH_ACTS(120,-781,-145,-8672,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(137,623,7670,13136,0,17,0,0x110000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(89,-7349,-4986,13797,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,-12480,-4689,11568,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-9824,-3364,8383,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(223,-11374,-3592,9051,0,54,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-7119,-2910,6958,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(101,-8424,-3312,4415,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(0,-6137,-2088,-681,0,90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(180,-4416,-1140,-2784,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(101,-3296,380,-954,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(192,-7022,-487,-3311,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(89,-7554,900,-4364,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,-8002,510,-5957,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,-9375,2369,-1986,0,-201,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-13440,1716,828,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(194,-10529,2700,3126,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(212,-8658,3450,3265,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(180,-7029,3810,4874,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-8398,762,-7091,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(101,-9978,143,-6998,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(223,-12284,770,-8588,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,-12190,2033,-9176,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(89,-11596,5298,-11027,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,-8084,4792,-9284,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-7598,5108,-7735,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(89,-7681,5059,-6310,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(137,-2882,510,-4554,0,0,0,0x120000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(180,-2432,-744,-3336,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-734,-2486,2256,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-2235,-1526,-116,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,1909,-3122,11693,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(89,2824,-3105,12859,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(223,2320,-2124,12317,0,26,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(194,8006,-2476,13421,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(194,8186,-2446,12585,0,0,0,0x0, bhvCirclingAmp,31),
OBJECT_WITH_ACTS(89,11452,-2272,11297,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(0,544,-1688,1302,0,-36,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(206,2288,-847,-1487,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(89,4643,-1756,-4410,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,6656,-1267,-5227,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(192,11704,228,-4927,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(223,13365,1979,-4309,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,13909,836,91,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,11138,1136,-2664,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,8849,1912,-2148,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,12490,870,4802,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,10886,1039,8550,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,6568,1460,8629,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,5927,1663,11126,0,0,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(206,12515,1508,13256,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(0,10371,6604,10331,0,0,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(89,4925,-2496,-9859,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,6192,-1523,-7654,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,3791,439,-14201,0,-90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(0,-4,455,-9269,0,90,0,0x0, bhvFlamethrower,31),
OBJECT_WITH_ACTS(89,-7582,806,-13590,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(137,8358,-810,-6077,0,0,0,0x100000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(206,6260,-1188,-10541,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(223,6325,-1761,-12424,0,47,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(194,10153,0,-13610,0,0,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(180,11763,436,-13088,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,13480,-76,-13531,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(89,13101,1573,-8562,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(223,13481,4196,-6123,0,-59,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(180,13140,3792,-6921,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(84,13340,6541,-5496,0,0,0,0x0, bhvBulletBill,31),
OBJECT_WITH_ACTS(180,12053,5790,-3069,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(122,6637,6030,-1094,0,0,0,0x7000000, bhvStar,31),
OBJECT_WITH_ACTS(89,4308,7081,700,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(192,3116,6732,6881,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(206,3333,7290,7226,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-335,7008,11439,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(89,-77,6797,10155,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,10440,867,-7847,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,8424,1223,-8113,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(88,7509,667,-9116,0,0,0,0x0, bhvThwomp2,31),
OBJECT_WITH_ACTS(89,8044,2151,-11345,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(206,9773,2760,-12250,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,10752,3268,-11082,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(101,10607,3064,-11473,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(84,10730,4722,-8770,0,180,0,0x0, bhvBulletBill,31),
OBJECT_WITH_ACTS(180,9909,5310,-9209,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(89,6732,4587,-6679,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(223,9597,5940,-10884,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(192,8604,5730,-9602,0,0,0,0x0, bhvGoomba,31),
OBJECT_WITH_ACTS(180,10592,6642,-11656,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(89,12614,6268,-11621,0,0,0,0x0, bhvHeaveHo,31),
OBJECT_WITH_ACTS(180,13073,6780,-12290,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,10416,7026,-13921,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,-5157,-417,-4256,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(137,-11893,2083,-8227,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(194,-2684,-1406,-1673,0,0,0,0x0, bhvHomingAmp,31),
OBJECT_WITH_ACTS(137,-8575,732,-5870,0,0,0,0x50000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(137,9373,7014,12088,0,0,0,0x10000, bhvExclamationBox,31),
RETURN()
};
const LevelScript local_warps_bitdw_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,12,1,2,0),
WARP_NODE(241,12,1,3,0),
WARP_NODE(0,30,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
