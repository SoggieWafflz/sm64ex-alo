#include <ultra64.h>
#include "sm64.h"
#include "behavior_data.h"
#include "model_ids.h"
#include "seq_ids.h"
#include "dialog_ids.h"
#include "segment_symbols.h"
#include "level_commands.h"
#include "game/level_update.h"
#include "levels/scripts.h"
#include "actors/common1.h"
#include "make_const_nonconst.h"

#include "areas/1/custom.model.inc.h"
#include "levels/sa/header.h"
extern u8 _sa_segment_ESegmentRomStart[]; 
extern u8 _sa_segment_ESegmentRomEnd[];
#include "levels/bbh/header.h"
const LevelScript level_sa_custom_entry[] = {
INIT_LEVEL(),
LOAD_MIO0(0x07, _bbh_segment_7SegmentRomStart, _bbh_segment_7SegmentRomEnd),
LOAD_RAW(0x1A, _bbhSegmentRomStart, _bbhSegmentRomEnd),
LOAD_RAW(0x0E, _sa_segment_ESegmentRomStart, _sa_segment_ESegmentRomEnd),
LOAD_MIO0(        /*seg*/ 0x0B, _effect_mio0SegmentRomStart, _effect_mio0SegmentRomEnd),
LOAD_MIO0(0xA,_bbh_skybox_mio0SegmentRomStart,_bbh_skybox_mio0SegmentRomEnd),
LOAD_MIO0(8,_common0_mio0SegmentRomStart,_common0_mio0SegmentRomEnd),
LOAD_RAW(15,_common0_geoSegmentRomStart,_common0_geoSegmentRomEnd),
LOAD_MIO0(5,_group9_mio0SegmentRomStart,_group9_mio0SegmentRomEnd),
LOAD_RAW(12,_group9_geoSegmentRomStart,_group9_geoSegmentRomEnd),
LOAD_MIO0(6,_group17_mio0SegmentRomStart,_group17_mio0SegmentRomEnd),
LOAD_RAW(13,_group17_geoSegmentRomStart,_group17_geoSegmentRomEnd),
ALLOC_LEVEL_POOL(),
MARIO(/*model*/ MODEL_MARIO, /*behParam*/ 0x00000001, /*beh*/ bhvMario),
LOAD_MODEL_FROM_GEO(MODEL_BBH_HAUNTED_DOOR,           haunted_door_geo),
LOAD_MODEL_FROM_GEO(MODEL_BBH_STAIRCASE_STEP,         geo_bbh_0005B0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TILTING_FLOOR_PLATFORM, geo_bbh_0005C8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM,      geo_bbh_0005E0),
LOAD_MODEL_FROM_GEO(MODEL_BBH_TUMBLING_PLATFORM_PART, geo_bbh_0005F8),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MOVING_BOOKSHELF,       geo_bbh_000610),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MESH_ELEVATOR,          geo_bbh_000628),
LOAD_MODEL_FROM_GEO(MODEL_BBH_MERRY_GO_ROUND,         geo_bbh_000640),
LOAD_MODEL_FROM_GEO(MODEL_BBH_WOODEN_TOMB,            geo_bbh_000658),
LOAD_MODEL_FROM_GEO(22, warp_pipe_geo),
LOAD_MODEL_FROM_GEO(23, bubbly_tree_geo),
LOAD_MODEL_FROM_GEO(24, spiky_tree_geo),
LOAD_MODEL_FROM_GEO(25, snow_tree_geo),
LOAD_MODEL_FROM_GEO(27, palm_tree_geo),
LOAD_MODEL_FROM_GEO(29, haunted_door_geo),
LOAD_MODEL_FROM_GEO(31, metal_door_geo),
LOAD_MODEL_FROM_GEO(32, hazy_maze_door_geo),
LOAD_MODEL_FROM_GEO(34, castle_door_0_star_geo),
LOAD_MODEL_FROM_GEO(35, castle_door_1_star_geo),
LOAD_MODEL_FROM_GEO(36, castle_door_3_stars_geo),
LOAD_MODEL_FROM_GEO(37, key_door_geo),
LOAD_MODEL_FROM_GEO(38, castle_door_geo),
// LOAD_MODEL_FROM_DL(132,0x08025f08,4),
// LOAD_MODEL_FROM_DL(158,0x0302c8a0,4),
// LOAD_MODEL_FROM_DL(159,0x0302bcd0,4),
// LOAD_MODEL_FROM_DL(161,0x0301cb00,4),
// LOAD_MODEL_FROM_DL(164,0x04032a18,4),
// LOAD_MODEL_FROM_DL(201,0x080048e0,4),
// LOAD_MODEL_FROM_DL(218,0x08024bb8,4),
JUMP_LINK(script_func_global_1),
JUMP_LINK(script_func_global_10),
JUMP_LINK(script_func_global_18),
JUMP_LINK(local_area_sa_1_),
FREE_LEVEL_POOL(),
MARIO_POS(1,135,-6558,0,6464),
CALL(/*arg*/ 0, /*func*/ lvl_init_or_update),
CALL_LOOP(/*arg*/ 1, /*func*/ lvl_init_or_update),
CLEAR_LEVEL(),
SLEEP_BEFORE_EXIT(/*frames*/ 1),
EXIT(),
};
const LevelScript local_area_sa_1_[] = {
AREA(1,Geo_sa_1_0x2801700),
TERRAIN(col_sa_1_0xe0bdcd0),
SET_BACKGROUND_MUSIC(0,37),
TERRAIN_TYPE(1),
JUMP_LINK(local_objects_sa_1_),
JUMP_LINK(local_warps_sa_1_),
END_AREA(),
RETURN()
};
const LevelScript local_objects_sa_1_[] = {
OBJECT_WITH_ACTS(0,17,-3655,-8,0,0,0,0xa0000, bhvSpinAirborneWarp,31),
OBJECT_WITH_ACTS(0,600,7959,-5395,0,-154,0,0xb0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1697,9111,-5531,0,-153,0,0xc0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,-6595,6300,-3359,0,107,0,0xd0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(0,1997,6044,6610,0,-151,0,0xe0000, bhvFadingWarp,31),
OBJECT_WITH_ACTS(23,18401,-4578,-17636,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,13501,-4578,-12409,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,9593,-4578,-18007,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,10560,-4578,-20530,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,-2919,-4578,-8178,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,3384,-4578,8513,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,11390,-4578,12050,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,17530,-4578,-9835,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(23,6096,-4578,-21642,0,0,0,0x0, bhvTree,31),
OBJECT_WITH_ACTS(206,8885,-3444,13534,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(122,-19517,4404,2904,0,0,0,0x2000000, bhvStar,31),
OBJECT_WITH_ACTS(122,-18831,305,4970,0,0,0,0x1000000, bhvStar,31),
OBJECT_WITH_ACTS(137,-20260,-4232,-24574,0,0,0,0x6080000, bhvExclamationBox,31),
OBJECT_WITH_ACTS(122,11410,19842,8043,0,0,0,0x0, bhvStar,31),
OBJECT_WITH_ACTS(195,13930,-1853,1760,0,-180,180,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(195,11329,-1335,2513,0,0,180,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(195,13121,-987,-7015,0,0,180,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(195,15373,-5744,-2100,0,0,180,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(195,13966,2837,-7362,0,0,180,0x0, bhvHiddenStarTrigger,31),
OBJECT_WITH_ACTS(0,13963,-3707,-1814,0,0,0,0x3000000, bhvHiddenStar,31),
OBJECT_WITH_ACTS(122,16473,-4058,-20936,0,0,0,0x4000000, bhvStar,31),
OBJECT_WITH_ACTS(0,-19053,-2987,2332,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,7753,-853,-14279,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(0,4308,-1966,14068,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(87,12764,234,1782,0,0,0,0x0, bhvMadPiano,31),
OBJECT_WITH_ACTS(87,13501,-4468,1646,0,0,0,0x0, bhvMadPiano,31),
OBJECT_WITH_ACTS(86,14690,-2034,1832,0,0,0,0x0, bhvHauntedChair,31),
OBJECT_WITH_ACTS(86,13602,-2034,-5481,0,0,0,0x0, bhvHauntedChair,31),
OBJECT_WITH_ACTS(86,14692,-2034,-5385,0,0,0,0x0, bhvHauntedChair,31),
OBJECT_WITH_ACTS(86,15240,-2034,-1283,0,0,0,0x0, bhvHauntedChair,31),
OBJECT_WITH_ACTS(86,13831,-2034,-1430,0,0,0,0x0, bhvHauntedChair,31),
OBJECT_WITH_ACTS(89,12051,-4014,2087,0,0,0,0x0, bhvFlyingBookend,31),
OBJECT_WITH_ACTS(89,14831,-4014,1304,0,0,0,0x0, bhvFlyingBookend,31),
OBJECT_WITH_ACTS(89,15404,659,-1758,0,0,0,0x0, bhvFlyingBookend,31),
OBJECT_WITH_ACTS(84,12958,682,9803,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,-14415,-3423,8692,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,-3628,-1398,15225,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,14760,2930,-4471,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,11010,647,1079,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,14305,647,-1786,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,14768,647,-5528,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,14343,-4128,-3390,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,14343,-4128,-3390,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,11674,-4128,1530,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,11674,-1899,1530,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,13934,-1279,-3967,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,7539,-392,-14741,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,5670,-1950,-8604,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,4395,-4066,-4707,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,-5509,-4066,41,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,-5168,-4066,10118,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(84,6253,-4066,10325,0,0,0,0x0, bhvBoo,31),
OBJECT_WITH_ACTS(180,4698,3990,-21740,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-10784,-2898,-4777,0,0,0,0x5000000, bhvHiddenRedCoinStar,31),
OBJECT_WITH_ACTS(215,17382,10299,3353,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-5754,685,16743,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,10570,-3425,-20517,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,19824,2578,14080,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,14349,-1379,-4555,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,-15238,-2358,2446,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,9558,-2794,6097,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(215,9429,-3653,17400,0,0,0,0x0, bhvRedCoin,31),
OBJECT_WITH_ACTS(180,18657,10543,12035,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,18657,7591,12035,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(206,16137,4263,15238,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,18891,934,5377,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,15444,934,5765,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,14677,934,7955,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,11777,934,10209,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,11429,-1309,9741,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,13567,-2009,7126,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(129,-7858,-4580,14760,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-6866,-4580,14731,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-5603,-4580,14471,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-4543,-4580,14568,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-3509,-4580,13929,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-2729,-4580,14666,0,0,0,0x0, bhvBreakableBox,31),
OBJECT_WITH_ACTS(129,-1886,-4580,14076,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(129,-911,-4580,14510,0,0,0,0x0, bhvHiddenObject,31),
OBJECT_WITH_ACTS(207,-8244,583,14183,0,0,0,0x0, bhvFloorSwitchHiddenObjects,31),
OBJECT_WITH_ACTS(120,8450,923,-17548,0,0,0,0x0, bhvRecoveryHeart,31),
OBJECT_WITH_ACTS(206,-19841,-93,627,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-20084,-1284,2133,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-16680,-3789,-75,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-14980,758,-7252,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-9398,1173,-8093,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,8692,-3995,17470,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,6495,-3163,14902,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-6922,-4466,11207,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,6254,-4466,2588,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,5518,-1204,-13189,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,2130,-3116,-8662,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(223,4034,-3182,-7788,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,-19463,3981,4658,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(206,-18735,4192,5051,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(206,-17422,-895,4834,0,0,0,0x0, bhvSnufit,31),
OBJECT_WITH_ACTS(180,-15341,-1006,5361,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(180,-13874,-1006,5146,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(0,-11953,-1379,9411,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-11953,846,9411,0,0,0,0x110000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,-16638,4205,12354,0,0,0,0x0, bhvMrI,31),
OBJECT_WITH_ACTS(223,-14947,-1093,13102,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(116,10533,18072,8513,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,10933,18072,8890,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,11890,18072,8917,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,12290,18072,8475,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,12304,18072,7537,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,11913,18072,7131,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,10965,18072,7126,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,10551,18072,7574,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(223,11417,16269,8015,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(0,11417,16269,8015,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(116,10835,13945,8018,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(180,13107,11836,8027,0,0,0,0x0, bhvFireSpitter,31),
OBJECT_WITH_ACTS(223,13173,11574,8016,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,15624,8804,6275,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(223,13939,8804,5057,0,0,0,0x0, bhvChuckya,31),
OBJECT_WITH_ACTS(116,-5048,-3446,-19665,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-3166,-2287,-20596,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-19574,-3973,-23865,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-19046,-3255,-23227,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-18551,-2486,-22812,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-18225,-2012,-22281,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(116,-17881,-1747,-21592,0,0,0,0x0, bhvOneCoin,31),
OBJECT_WITH_ACTS(101,-5692,-4531,-2323,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(101,-6273,-4531,5692,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(101,1626,-4531,5344,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(212,-4768,1869,14532,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-3315,1869,15174,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,-6162,1869,15672,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(212,9231,-2431,268,0,0,0,0x0, bhv1Up,31),
OBJECT_WITH_ACTS(0,6389,-4531,-2323,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(0,9410,-4531,10223,0,0,0,0x10000, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,4298,-4531,9061,0,0,0,0x20000, bhvCoinFormation,31),
OBJECT_WITH_ACTS(101,11965,-4531,4530,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(0,16147,-4531,-12314,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(101,16960,-4531,1859,0,0,0,0x0, bhvScuttlebug,31),
OBJECT_WITH_ACTS(0,11965,-4531,-19168,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-581,-4531,-11733,0,0,0,0x0, bhvGoombaTripletSpawner,31),
OBJECT_WITH_ACTS(0,-3485,-4531,-5692,0,0,0,0x0, bhvGoombaTripletSpawner,31),
RETURN()
};
const LevelScript local_warps_sa_1_[] = {
WARP_NODE(10,9,1,10,0),
WARP_NODE(11,9,1,12,0),
WARP_NODE(12,9,1,11,0),
WARP_NODE(13,9,1,14,0),
WARP_NODE(14,9,1,13,0),
WARP_NODE(240,16,1,32,0),
WARP_NODE(241,16,1,31,0),
WARP_NODE(0,9,1,10,0),
WARP_NODE(1,9,1,10,0),
WARP_NODE(2,9,1,10,0),
WARP_NODE(3,9,1,10,0),
WARP_NODE(4,9,1,10,0),
WARP_NODE(5,9,1,10,0),
WARP_NODE(6,9,1,10,0),
RETURN()
};
